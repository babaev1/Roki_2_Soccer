//====================================================================
//      SvCompiler V6.06
//By A.Sibilev
//====================================================================
//cblock

;sfVpuVersion <int()>
;sfCreateTask <int(,*<void()>,int)>
;sfLog <void(,cstring,int,int,int)>
;sfLogOpen <void(,cstring)>
;sfLogClose <void()>
;sfWaitFrameOut <void(,int)>
;sfIsFrameOut <int(,int)>
;sfWaitNextFrame <void()>
;sfSlotIndex <int(,cstring)>
;sfAbs <int(,int)>
;sfIMin <int(,int,int)>
;sfIMax <int(,int,int)>
;sfUMin <int(,int,int)>
;sfUMax <int(,int,int)>
;sfILimit <int(,int,int,int)>
;sfStop <void()>
;sfStartSlot <void(,int)>
;sfBip <void(,int,int)>
;sfFreeGroup <void(,int)>
;sfPoseGroup <void(,int,int,int)>
;sfPoseGroupDelay <void(,int,int,int,int)>
;sfPoseCorrect <void(,int,int)>
;sfQueueGroup <void(,int,int,int)>
;sfPoseIdx <void(,int,int,int)>
;sfPoseGroupLin <void(,int,int,int)>
;sfStrainGroup <void(,int)>
;sfPlaySamples <void(,int,*cblock,int)>
;sfAccumSetup1 <void(,*int)>
;sfAccumSetup2 <void(,*int,*int)>
;sfAccumSetup3 <void(,*int,*int,*int)>
;sfAccumSetup4 <void(,*int,*int,*int,*int)>
;sfAccumTrigger <void()>
;sfAccumReset <void()>
;sfMathAcos <int(,int,int)>
;sfMathSqrti <int(,int)>
;sfMathAngleOfTriangle <int(,int,int,int)>
;sfMathAngleOfKnee <int(,int,int,int)>
;sfMathCathetOfSquareTriangle <int(,int,int)>
;sfMathHypotenuseOfSquareTriangle <int(,int,int)>
;sfMathTableSin <int(,int,int)>
;sfHumoModelSetup <void()>
;sfHumoModelFootAtFloor <void(,int,int,int)>
;sfHumoModelFootPush <void(,int,int,int)>
;sfIndexOfMask <int(,int)>
;sfQueueIdxAppend <int(,int,int,int)>
;sfQueueIdxOffsets <int(,int,int,*cblock,int)>
;sfQueueIdxSinMove <int(,int,int,int,int)>
;sfQueueIdxLast <int(,int)>
;sfQueueIdxCount <int(,int)>
;sfQueueMax <int()>
;sfIkSetup <void()>
;sfIkAngle <void(,float,float,float,float,float,float,float)>
;sfMathCos <float(,float)>
;sfMathSin <float(,float)>
;sfQuaternionToEuler <void(,float,float,float,float)>
;sfQuaternionToEulerImu <void()>
;sfFMathACos <float(,float)>
;sfFMathASin <float(,float)>
;sfFMathATan <float(,float)>
;sfFMathATan2 <float(,float,float)>
;sfFMathCos <float(,float)>
;sfFMathSin <float(,float)>
;sfFMathTan <float(,float)>
;sfFMathCosh <float(,float)>
;sfFMathSinh <float(,float)>
;sfFMathTanh <float(,float)>
;sfFMathExp <float(,float)>
;sfFMathFrExp <float(,float,*int)>
;sfFMathLdExp <float(,float,int)>
;sfFMathLog <float(,float)>
;sfFMathLog10 <float(,float)>
;sfFMathModf <float(,float,*float)>
;sfFMathPow <float(,float,float)>
;sfFMathSqrt <float(,float)>
;sfFMathCeil <float(,float)>
;sfFMathFAbs <float(,float)>
;sfFMathFloor <float(,float)>
;sfFMathFMod <float(,float,float)>
;sfWaitFrame <void(,int)>
[3:348] ;sfWaitFrameOut( frame + svFrameCount );
VBC5_PUSH_CONST 17 | 0x80000000 //import func index sfWaitFrameOut
VBC2_PUSH_LOCAL 2 //frame
VBC3_PUSH_GLOBAL 1 //svFrameCount
VBC1_ADD
VBC1_CALL1
VBC1_STACK_UP2//remove result, call address and params
[2:10] ;
VBC1_RETURN
;parabaloid_list_creator <void()>
[1:97] ;segments_num = fr2 / framestep - 2;
VBC2_PUSH_CONST 59 //segments_num
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_DIV
VBC1_PUSH_2 
VBC1_SUB
VBC1_POP
[1:98] ;segments_sum = 0;
VBC3_PUSH_CONST 160 //segments_sum
VBC1_PUSH_0 
VBC1_POP
[1:99] ;for( j = 0; j < segments_num; j ++ ) {
VBC3_PUSH_CONST 161 //j
VBC1_PUSH_0 
VBC1_POP
LAB92: //for condition
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 59 //segments_num
VBC1_LESS
VBC4_FALSE_JUMP LAB273 //to for exit
;
[1:100] ;if (j == 0 || j ==  segments_num -1){
VBC3_PUSH_GLOBAL 161 //j
VBC1_PUSH_0 
VBC1_EQU
VBC4_TRUE_JUMP_KEEP LAB126
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 59 //segments_num
VBC1_PUSH_1 
VBC1_SUB
VBC1_EQU
VBC4_TRUE_JUMP_KEEP LAB126
VBC1_PUSH_0
LAB126:
VBC4_FALSE_JUMP LAB142 //if to false
;
[1:101] ;segments[j] = 1;
VBC2_PUSH_CONST 60 //segments
//array address
VBC3_PUSH_GLOBAL 161 //j
//array index
VBC1_ADD //array cell address
VBC1_PUSH_1 
VBC1_POP
VBC4_JUMP LAB251 //if to exit
LAB142: //if else
;else if(j * 2 < segments_num){
VBC3_PUSH_GLOBAL 161 //j
VBC1_PUSH_2 
VBC1_MUL
VBC3_PUSH_GLOBAL 59 //segments_num
VBC1_LESS
VBC4_FALSE_JUMP LAB202 //if to false
;
[1:104] ;segments[j] = 1;
VBC2_PUSH_CONST 60 //segments
//array address
VBC3_PUSH_GLOBAL 161 //j
//array index
VBC1_ADD //array cell address
VBC1_PUSH_1 
VBC1_POP
[1:105] ;for (i = 0; i < j; i++){
VBC3_PUSH_CONST 162 //i
VBC1_PUSH_0 
VBC1_POP
LAB168: //for condition
VBC3_PUSH_GLOBAL 162 //i
VBC3_PUSH_GLOBAL 161 //j
VBC1_LESS
VBC4_FALSE_JUMP LAB198 //to for exit
;
[1:106] ;segments[j] *= 2;
VBC2_PUSH_CONST 60 //segments
//array address
VBC3_PUSH_GLOBAL 161 //j
//array index
VBC1_ADD //array cell address
VBC1_PUSH_TOS
VBC1_LOAD
VBC1_PUSH_2 
VBC1_MUL
VBC1_POP
LAB190: //for step
VBC3_PUSH_CONST 162 //i
VBC1_INC
VBC4_JUMP LAB168 //to condition
LAB198: //for exit
VBC4_JUMP LAB251 //if to exit
LAB202: //if else
;
[1:110] ;segments[j] = 1;
VBC2_PUSH_CONST 60 //segments
//array address
VBC3_PUSH_GLOBAL 161 //j
//array index
VBC1_ADD //array cell address
VBC1_PUSH_1 
VBC1_POP
[1:111] ;for (i = 0; i < (segments_num - j -1); i++){
VBC3_PUSH_CONST 162 //i
VBC1_PUSH_0 
VBC1_POP
LAB215: //for condition
VBC3_PUSH_GLOBAL 162 //i
VBC3_PUSH_GLOBAL 59 //segments_num
VBC3_PUSH_GLOBAL 161 //j
VBC1_SUB
VBC1_PUSH_1 
VBC1_SUB
VBC1_LESS
VBC4_FALSE_JUMP LAB251 //to for exit
;
[1:112] ;segments[j] *= 2;
VBC2_PUSH_CONST 60 //segments
//array address
VBC3_PUSH_GLOBAL 161 //j
//array index
VBC1_ADD //array cell address
VBC1_PUSH_TOS
VBC1_LOAD
VBC1_PUSH_2 
VBC1_MUL
VBC1_POP
LAB243: //for step
VBC3_PUSH_CONST 162 //i
VBC1_INC
VBC4_JUMP LAB215 //to condition
LAB251: //for exit
LAB251: //if exit
LAB251: //if exit
[1:115] ;segments_sum += segments[j];
VBC3_PUSH_CONST 160 //segments_sum
VBC1_PUSH_TOS
VBC1_LOAD
VBC2_PUSH_CONST 60 //segments
//array address
VBC3_PUSH_GLOBAL 161 //j
//array index
VBC1_ADD //array cell address
VBC1_LOAD//array cell value
VBC1_ADD
VBC1_POP
LAB265: //for step
VBC3_PUSH_CONST 161 //j
VBC1_INC
VBC4_JUMP LAB92 //to condition
LAB273: //for exit
[1:119] ;
VBC1_RETURN
;straight_leg_IK <void(,float,float,float,float,float)>
[1:130] ;IkOutPresent = 0;
VBC3_PUSH_CONST 176 //IkOutPresent
VBC1_PUSH_0 
VBC1_POP_CF
[1:131] ;if (svIkLimA5min <= w && w <= svIkLimA5max){
VBC3_PUSH_GLOBAL 1225 //svIkLimA5min
VBC2_PUSH_LOCAL 2 //w
VBC1_LESS_EQU_FF
VBC4_FALSE_JUMP_KEEP LAB300
VBC2_PUSH_LOCAL 2 //w
VBC3_PUSH_GLOBAL 1226 //svIkLimA5max
VBC1_LESS_EQU_FF
VBC4_FALSE_JUMP_KEEP LAB300
VBC1_PUSH_1
LAB300:
VBC4_FALSE_JUMP LAB637 //if to false
;
[1:132] ;alpha6 = sfFMathASin((yt + svIkA5 + svIkB5 + svIkA10)/(svIkA6 + svIkA7 + svIkA8 + svIkA9));
VBC3_PUSH_CONST 166 //alpha6
VBC5_PUSH_CONST 352 | 0x80000000 //import func index sfFMathASin
//alloc addon amount for result
VBC2_PUSH_LOCAL 5 //yt
VBC3_PUSH_GLOBAL 1215 //svIkA5
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1216 //svIkB5
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1222 //svIkA10
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1218 //svIkA6
VBC3_PUSH_GLOBAL 1219 //svIkA7
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1220 //svIkA8
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1221 //svIkA9
VBC1_ADD_FF
VBC1_DIV_FF
VBC1_CALL1
VBC1_STACK_UP1//remove call address and params
VBC1_POP
[1:133] ;test1 = yt;
VBC3_PUSH_CONST 163 //test1
VBC2_PUSH_LOCAL 5 //yt
VBC1_POP
[1:134] ;test3 = (yt + svIkA5 + svIkB5 + svIkA10)/(svIkA6 + svIkA7 + svIkA8 + svIkA9);
VBC3_PUSH_CONST 165 //test3
VBC2_PUSH_LOCAL 5 //yt
VBC3_PUSH_GLOBAL 1215 //svIkA5
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1216 //svIkB5
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1222 //svIkA10
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1218 //svIkA6
VBC3_PUSH_GLOBAL 1219 //svIkA7
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1220 //svIkA8
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1221 //svIkA9
VBC1_ADD_FF
VBC1_DIV_FF
VBC1_POP
[1:135] ;if (svIkLimA6min <= alpha6 && alpha6 <= svIkLimA6max ){
VBC3_PUSH_GLOBAL 1227 //svIkLimA6min
VBC3_PUSH_GLOBAL 166 //alpha6
VBC1_LESS_EQU_FF
VBC4_FALSE_JUMP_KEEP LAB408
VBC3_PUSH_GLOBAL 166 //alpha6
VBC3_PUSH_GLOBAL 1228 //svIkLimA6max
VBC1_LESS_EQU_FF
VBC4_FALSE_JUMP_KEEP LAB408
VBC1_PUSH_1
LAB408:
VBC4_FALSE_JUMP LAB637 //if to false
;
[1:136] ;test2 = xt/(svIkA7 + svIkA8);
VBC3_PUSH_CONST 164 //test2
VBC2_PUSH_LOCAL 6 //xt
VBC3_PUSH_GLOBAL 1219 //svIkA7
VBC3_PUSH_GLOBAL 1220 //svIkA8
VBC1_ADD_FF
VBC1_DIV_FF
VBC1_POP
[1:137] ;alpha7 = sfFMathASin(xt/(svIkA7 + svIkA8));
VBC3_PUSH_CONST 167 //alpha7
VBC5_PUSH_CONST 352 | 0x80000000 //import func index sfFMathASin
//alloc addon amount for result
VBC2_PUSH_LOCAL 6 //xt
VBC3_PUSH_GLOBAL 1219 //svIkA7
VBC3_PUSH_GLOBAL 1220 //svIkA8
VBC1_ADD_FF
VBC1_DIV_FF
VBC1_CALL1
VBC1_STACK_UP1//remove call address and params
VBC1_POP
[1:138] ;if (svIkLimA7min <= alpha7 && alpha7 <= svIkLimA7max){
VBC3_PUSH_GLOBAL 1229 //svIkLimA7min
VBC3_PUSH_GLOBAL 167 //alpha7
VBC1_LESS_EQU_FF
VBC4_FALSE_JUMP_KEEP LAB470
VBC3_PUSH_GLOBAL 167 //alpha7
VBC3_PUSH_GLOBAL 1230 //svIkLimA7max
VBC1_LESS_EQU_FF
VBC4_FALSE_JUMP_KEEP LAB470
VBC1_PUSH_1
LAB470:
VBC4_FALSE_JUMP LAB637 //if to false
;
[1:139] ;alpha9 = sfFMathASin(x) - alpha7;
VBC3_PUSH_CONST 168 //alpha9
VBC5_PUSH_CONST 352 | 0x80000000 //import func index sfFMathASin
//alloc addon amount for result
VBC2_PUSH_LOCAL 4 //x
VBC1_CALL1
VBC1_STACK_UP1//remove call address and params
VBC3_PUSH_GLOBAL 167 //alpha7
VBC1_SUB_FF
VBC1_POP
[1:140] ;if (svIkLimA9min <= alpha9 && alpha9 <= svIkLimA9max){
VBC3_PUSH_GLOBAL 1233 //svIkLimA9min
VBC3_PUSH_GLOBAL 168 //alpha9
VBC1_LESS_EQU_FF
VBC4_FALSE_JUMP_KEEP LAB514
VBC3_PUSH_GLOBAL 168 //alpha9
VBC3_PUSH_GLOBAL 1234 //svIkLimA9max
VBC1_LESS_EQU_FF
VBC4_FALSE_JUMP_KEEP LAB514
VBC1_PUSH_1
LAB514:
VBC4_FALSE_JUMP LAB637 //if to false
;
[1:141] ;alpha10 = -sfFMathASin(y) + alpha6;
VBC3_PUSH_CONST 169 //alpha10
VBC5_PUSH_CONST 352 | 0x80000000 //import func index sfFMathASin
//alloc addon amount for result
VBC2_PUSH_LOCAL 3 //y
VBC1_CALL1
VBC1_STACK_UP1//remove call address and params
VBC1_NEG_F
VBC3_PUSH_GLOBAL 166 //alpha6
VBC1_ADD_FF
VBC1_POP
[1:142] ;if (svIkLimA10min <= alpha10 && alpha10 <= svIkLimA10max){
VBC3_PUSH_GLOBAL 1235 //svIkLimA10min
VBC3_PUSH_GLOBAL 169 //alpha10
VBC1_LESS_EQU_FF
VBC4_FALSE_JUMP_KEEP LAB559
VBC3_PUSH_GLOBAL 169 //alpha10
VBC3_PUSH_GLOBAL 1236 //svIkLimA10max
VBC1_LESS_EQU_FF
VBC4_FALSE_JUMP_KEEP LAB559
VBC1_PUSH_1
LAB559:
VBC4_FALSE_JUMP LAB637 //if to false
;
[1:143] ;IkEncA5 = w * 2607.6;		
VBC3_PUSH_CONST 170 //IkEncA5
VBC2_PUSH_LOCAL 2 //w
VBC5_PUSH_CONST 1159920026 
VBC1_MUL_FF
VBC1_POP
[1:144] ;IkEncA6 = alpha6 * 2607.6;
VBC3_PUSH_CONST 171 //IkEncA6
VBC3_PUSH_GLOBAL 166 //alpha6
VBC5_PUSH_CONST 1159920026 
VBC1_MUL_FF
VBC1_POP
[1:145] ;IkEncA7 = alpha7 * 2607.6;
VBC3_PUSH_CONST 172 //IkEncA7
VBC3_PUSH_GLOBAL 167 //alpha7
VBC5_PUSH_CONST 1159920026 
VBC1_MUL_FF
VBC1_POP
[1:146] ;IkEncA8 = 0;				
VBC3_PUSH_CONST 173 //IkEncA8
VBC1_PUSH_0 
VBC1_POP_CF
[1:147] ;IkEncA9 = alpha9 * 2607.6;
VBC3_PUSH_CONST 174 //IkEncA9
VBC3_PUSH_GLOBAL 168 //alpha9
VBC5_PUSH_CONST 1159920026 
VBC1_MUL_FF
VBC1_POP
[1:148] ;IkEncA10 = alpha10 * 2607.6;
VBC3_PUSH_CONST 175 //IkEncA10
VBC3_PUSH_GLOBAL 169 //alpha10
VBC5_PUSH_CONST 1159920026 
VBC1_MUL_FF
VBC1_POP
[1:149] ;IkOutPresent = 1;
VBC3_PUSH_CONST 176 //IkOutPresent
VBC1_PUSH_1 
VBC1_POP_CF
LAB637: //if else
LAB637: //if else
LAB637: //if else
LAB637: //if else
LAB637: //if else
[1:157] ;
VBC1_RETURN
;setup <void()>
[1:158] ;rotationYieldRight = 0.23;
VBC2_PUSH_CONST 17 //rotationYieldRight
VBC5_PUSH_CONST 1047233823 
VBC1_POP
[1:159] ;rotationYieldLeft = 0.23;
VBC2_PUSH_CONST 18 //rotationYieldLeft
VBC5_PUSH_CONST 1047233823 
VBC1_POP
[1:161] ;svIkA5 = 40.2; 
VBC3_PUSH_CONST 1215 //svIkA5
VBC5_PUSH_CONST 1109445837 
VBC1_POP
[1:162] ;svIkB5 = 0;    
VBC3_PUSH_CONST 1216 //svIkB5
VBC1_PUSH_0 
VBC1_POP_CF
[1:163] ;svIkC5 = 0;    
VBC3_PUSH_CONST 1217 //svIkC5
VBC1_PUSH_0 
VBC1_POP_CF
[1:164] ;svIkA6 = 0;    
VBC3_PUSH_CONST 1218 //svIkA6
VBC1_PUSH_0 
VBC1_POP_CF
[1:165] ;svIkA7 = 99;   
VBC3_PUSH_CONST 1219 //svIkA7
VBC2_PUSH_CONST 99 
VBC1_POP_CF
[1:166] ;svIkA8 = 99;   
VBC3_PUSH_CONST 1220 //svIkA8
VBC2_PUSH_CONST 99 
VBC1_POP_CF
[1:167] ;svIkA9 = 0;    
VBC3_PUSH_CONST 1221 //svIkA9
VBC1_PUSH_0 
VBC1_POP_CF
[1:168] ;svIkA10 = 13.7;  
VBC3_PUSH_CONST 1222 //svIkA10
VBC5_PUSH_CONST 1096495923 
VBC1_POP
[1:169] ;svIkB10 = 23.8;  
VBC3_PUSH_CONST 1223 //svIkB10
VBC5_PUSH_CONST 1102997094 
VBC1_POP
[1:170] ;svIkC10 = 0;   
VBC3_PUSH_CONST 1224 //svIkC10
VBC1_PUSH_0 
VBC1_POP_CF
[1:173] ;e10 = 55;      
VBC2_PUSH_CONST 34 //e10
VBC2_PUSH_CONST 55 
VBC1_POP_CF
[1:174] ;d10 = 62;      
VBC2_PUSH_CONST 35 //d10
VBC2_PUSH_CONST 62 
VBC1_POP_CF
[1:177] ;svIkLimA5min = -90 * 0.017453293;
VBC3_PUSH_CONST 1225 //svIkLimA5min
VBC5_PUSH_CONST -1077342245 
VBC1_POP
[1:178] ;svIkLimA5max = 90 * 0.017453293;
VBC3_PUSH_CONST 1226 //svIkLimA5max
VBC5_PUSH_CONST 1070141403 
VBC1_POP
[1:181] ;svIkLimA6min = -108 * 0.017453293;
VBC3_PUSH_CONST 1227 //svIkLimA6min
VBC5_PUSH_CONST -1074706887 
VBC1_POP
[1:182] ;svIkLimA6max = 15 * 0.017453293;
VBC3_PUSH_CONST 1228 //svIkLimA6max
VBC5_PUSH_CONST 1048971922 
VBC1_POP
[1:184] ;svIkLimA7min = -130 * 0.017453293;
VBC3_PUSH_CONST 1229 //svIkLimA7min
VBC5_PUSH_CONST -1072613858 
VBC1_POP
[1:185] ;svIkLimA7max = 50 * 0.017453293;
VBC3_PUSH_CONST 1230 //svIkLimA7max
VBC5_PUSH_CONST 1063216883 
VBC1_POP
[1:188] ;svIkLimA8min = -180 * 0.017453293;
VBC3_PUSH_CONST 1231 //svIkLimA8min
VBC5_PUSH_CONST -1068953637 
VBC1_POP
[1:189] ;svIkLimA8max = 8 * 0.017453293;
VBC3_PUSH_CONST 1232 //svIkLimA8max
VBC5_PUSH_CONST 1041168949 
VBC1_POP
[1:192] ;svIkLimA9min = -45 * 0.017453293;
VBC3_PUSH_CONST 1233 //svIkLimA9min
VBC5_PUSH_CONST -1085730853 
VBC1_POP
[1:193] ;svIkLimA9max = 78 * 0.017453293;
VBC3_PUSH_CONST 1234 //svIkLimA9max
VBC5_PUSH_CONST 1068384497 
VBC1_POP
[1:196] ;svIkLimA10min = -24 * 0.017453293;
VBC3_PUSH_CONST 1235 //svIkLimA10min
VBC5_PUSH_CONST -1093241008 
VBC1_POP
[1:197] ;svIkLimA10max = 24 * 0.017453293;
VBC3_PUSH_CONST 1236 //svIkLimA10max
VBC5_PUSH_CONST 1054242640 
VBC1_POP
[1:198] ;sfIkSetup();
VBC5_PUSH_CONST 200 | 0x80000000 //import func index sfIkSetup
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:200] ;framestep = 2;
VBC2_PUSH_CONST 19 //framestep
VBC1_PUSH_2 
VBC1_POP
[1:202] ;gaitHeight = 180;  
VBC2_PUSH_CONST 40 //gaitHeight
VBC3_PUSH_CONST 180 
VBC1_POP_CF
[1:203] ;stepHeight = 38.0; 
VBC2_PUSH_CONST 41 //stepHeight
VBC5_PUSH_CONST 1108869120 
VBC1_POP
[1:205] ;selfMotionShiftCorrectionX = 0.0 / 21.0;
VBC2_PUSH_CONST 6 //selfMotionShiftCorrectionX
VBC1_PUSH_0 
VBC1_POP
[1:206] ;selfMotionShiftCorrectionY = 0.0 / 21.0;
VBC2_PUSH_CONST 7 //selfMotionShiftCorrectionY
VBC1_PUSH_0 
VBC1_POP
[1:210] ;ztr0 = -(svIkC5+svIkA6+svIkA7+svIkA8+svIkA9+svIkB10 - 1); 
VBC2_PUSH_CONST 46 //ztr0
VBC3_PUSH_GLOBAL 1217 //svIkC5
VBC3_PUSH_GLOBAL 1218 //svIkA6
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1219 //svIkA7
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1220 //svIkA8
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1221 //svIkA9
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1223 //svIkB10
VBC1_ADD_FF
VBC1_PUSH_1 
VBC1_SUB_FI
VBC1_NEG_F
VBC1_POP
[1:211] ;ztl0 = -(svIkC5+svIkA6+svIkA7+svIkA8+svIkA9+svIkB10 - 1); 
VBC2_PUSH_CONST 47 //ztl0
VBC3_PUSH_GLOBAL 1217 //svIkC5
VBC3_PUSH_GLOBAL 1218 //svIkA6
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1219 //svIkA7
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1220 //svIkA8
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1221 //svIkA9
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 1223 //svIkB10
VBC1_ADD_FF
VBC1_PUSH_1 
VBC1_SUB_FI
VBC1_NEG_F
VBC1_POP
[1:213] ;zr = zl = -1;
VBC2_PUSH_CONST 25 //zr
VBC2_PUSH_CONST 32 //zl
VBC2_PUSH_CONST -1 // -
VBC1_STORE_CF
VBC1_POP
[1:216] ;selfInitPoses = 10;
VBC2_PUSH_CONST 13 //selfInitPoses
VBC2_PUSH_CONST 10 
VBC1_POP
[1:219] ;stepLength = 0.0;    
VBC2_PUSH_CONST 3 //stepLength
VBC1_PUSH_0 
VBC1_POP
[1:220] ;sideLength = 0.0;    
VBC2_PUSH_CONST 4 //sideLength
VBC1_PUSH_0 
VBC1_POP
[1:221] ;rotation = 0;        
VBC2_PUSH_CONST 5 //rotation
VBC1_PUSH_0 
VBC1_POP_CF
[1:222] ;selfFirstLegIsRightLeg = 1; 
VBC2_PUSH_CONST 12 //selfFirstLegIsRightLeg
VBC1_PUSH_1 
VBC1_POP
[1:223] ;selfInitPoses = 20; 
VBC2_PUSH_CONST 13 //selfInitPoses
VBC2_PUSH_CONST 20 
VBC1_POP
[1:225] ;stepZtr = (ztr0 + gaitHeight) / selfInitPoses;
VBC2_PUSH_CONST 48 //stepZtr
VBC3_PUSH_GLOBAL 46 //ztr0
VBC3_PUSH_GLOBAL 40 //gaitHeight
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 13 //selfInitPoses
VBC1_DIV_FI
VBC1_POP
[1:226] ;stepZtl = (ztl0 + gaitHeight) / selfInitPoses;
VBC2_PUSH_CONST 49 //stepZtl
VBC3_PUSH_GLOBAL 47 //ztl0
VBC3_PUSH_GLOBAL 40 //gaitHeight
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 13 //selfInitPoses
VBC1_DIV_FI
VBC1_POP
[1:228] ;bodyTiltAtWalk = 0.04;
VBC2_PUSH_CONST 57 //bodyTiltAtWalk
VBC5_PUSH_CONST 1025758986 
VBC1_POP
[1:229] ;solyLandingSkew = 0.0;
VBC2_PUSH_CONST 58 //solyLandingSkew
VBC1_PUSH_0 
VBC1_POP
[1:231] ;if( slowWalk ) {
VBC3_PUSH_GLOBAL 2 //slowWalk
VBC4_FALSE_JUMP LAB1027 //if to false
;
[1:232] ;fr1 = 50; 
VBC2_PUSH_CONST 38 //fr1
VBC2_PUSH_CONST 50 
VBC1_POP
[1:233] ;fr2 = 20; 
VBC2_PUSH_CONST 39 //fr2
VBC2_PUSH_CONST 20 
VBC1_POP
[1:234] ;amplitude = 110;    
VBC2_PUSH_CONST 36 //amplitude
VBC2_PUSH_CONST 110 
VBC1_POP_CF
VBC4_JUMP LAB1042 //if to exit
LAB1027: //if else
;
[1:237] ;fr1 = 8;           
VBC2_PUSH_CONST 38 //fr1
VBC2_PUSH_CONST 8 
VBC1_POP
[1:238] ;fr2 = 16;          
VBC2_PUSH_CONST 39 //fr2
VBC2_PUSH_CONST 16 
VBC1_POP
[1:239] ;amplitude = 10;    
VBC2_PUSH_CONST 36 //amplitude
VBC2_PUSH_CONST 10 
VBC1_POP_CF
LAB1042: //if exit
[1:241] ;stepYtr = amplitude / 2.0 / selfInitPoses;
VBC2_PUSH_CONST 50 //stepYtr
VBC3_PUSH_GLOBAL 36 //amplitude
VBC5_PUSH_CONST 1073741824 
VBC1_DIV_FF
VBC3_PUSH_GLOBAL 13 //selfInitPoses
VBC1_DIV_FI
VBC1_POP
[1:242] ;stepYtl = amplitude / 2.0 / selfInitPoses;
VBC2_PUSH_CONST 51 //stepYtl
VBC3_PUSH_GLOBAL 36 //amplitude
VBC5_PUSH_CONST 1073741824 
VBC1_DIV_FF
VBC3_PUSH_GLOBAL 13 //selfInitPoses
VBC1_DIV_FI
VBC1_POP
[1:247] ;alpha01 = 3.141592654;
VBC2_PUSH_CONST 37 //alpha01
VBC5_PUSH_CONST 1078530011 
VBC1_POP
[1:248] ;if( fr1 != 0 )
VBC3_PUSH_GLOBAL 38 //fr1
VBC1_PUSH_0 
VBC1_NOT_EQU
VBC4_FALSE_JUMP LAB1103 //if to false
;alpha01 = alpha01 * 2 / fr1;
VBC2_PUSH_CONST 37 //alpha01
VBC3_PUSH_GLOBAL 37 //alpha01
VBC1_PUSH_2 
VBC1_MUL_FI
VBC3_PUSH_GLOBAL 38 //fr1
VBC1_DIV_FI
VBC1_POP
LAB1103: //if else
[1:255] ;fps = 8;
VBC2_PUSH_CONST 53 //fps
VBC2_PUSH_CONST 8 
VBC1_POP
[1:256] ;frames_per_cycle = 2;
VBC2_PUSH_CONST 54 //frames_per_cycle
VBC1_PUSH_2 
VBC1_POP
[1:265] ;
VBC1_RETURN
;computeAlphaForWalkStraight <int(,int,int)>
[1:268] ;straight_leg_IK( xtr, ytr, xr, yr, wr ); 
VBC3_PUSH_CONST 274  //func address straight_leg_IK
VBC3_PUSH_GLOBAL 20 //xtr
VBC3_PUSH_GLOBAL 21 //ytr
VBC3_PUSH_GLOBAL 23 //xr
VBC3_PUSH_GLOBAL 24 //yr
VBC3_PUSH_GLOBAL 26 //wr
VBC1_CALL5
VBC1_STACK_UP6//remove result, call address and params
[1:269] ;if( IkOutPresent ) {
VBC3_PUSH_GLOBAL 176 //IkOutPresent
VBC4_FALSE_JUMP LAB1661 //if to false
;
[1:271] ;if (selfFirstLegIsRightLeg == 1){
VBC3_PUSH_GLOBAL 12 //selfFirstLegIsRightLeg
VBC1_PUSH_1 
VBC1_EQU
VBC4_FALSE_JUMP LAB1523 //if to false
;
[1:272] ;if (fasa == 2){
VBC2_PUSH_LOCAL 3 //fasa
VBC1_PUSH_2 
VBC1_EQU
VBC4_FALSE_JUMP LAB1271 //if to false
;
[1:273] ;if(cycle == 0 || cycle == (fr2 - framestep)) IkEncA6 += stepHeight / 124.0 / 2 * 2607.6;
VBC2_PUSH_LOCAL 2 //cycle
VBC1_PUSH_0 
VBC1_EQU
VBC4_TRUE_JUMP_KEEP LAB1180
VBC2_PUSH_LOCAL 2 //cycle
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC1_EQU
VBC4_TRUE_JUMP_KEEP LAB1180
VBC1_PUSH_0
LAB1180:
VBC4_FALSE_JUMP LAB1208 //if to false
;if(cycle == 0 || cycle == (fr2 - framestep)) IkEncA6 += stepHeight / 124.0 / 2 * 2607.6;
VBC3_PUSH_CONST 171 //IkEncA6
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 41 //stepHeight
VBC5_PUSH_CONST 1123549184 
VBC1_DIV_FF
VBC1_PUSH_2 
VBC1_DIV_FI
VBC5_PUSH_CONST 1159920026 
VBC1_MUL_FF
VBC1_ADD_FF
VBC1_POP
LAB1208: //if else
[1:274] ;if (framestep <= cycle && cycle < fr2 - framestep){
VBC3_PUSH_GLOBAL 19 //framestep
VBC2_PUSH_LOCAL 2 //cycle
VBC1_LESS_EQU
VBC4_FALSE_JUMP_KEEP LAB1233
VBC2_PUSH_LOCAL 2 //cycle
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC1_LESS
VBC4_FALSE_JUMP_KEEP LAB1233
VBC1_PUSH_1
LAB1233:
VBC4_FALSE_JUMP LAB1271 //if to false
;
[1:275] ;IkEncA6 += stepHeight / 124.0 * 2607.6;
VBC3_PUSH_CONST 171 //IkEncA6
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 41 //stepHeight
VBC5_PUSH_CONST 1123549184 
VBC1_DIV_FF
VBC5_PUSH_CONST 1159920026 
VBC1_MUL_FF
VBC1_ADD_FF
VBC1_POP
[1:276] ;IkEncA10 += 0.3 * 2607.6;
VBC3_PUSH_CONST 175 //IkEncA10
VBC1_PUSH_TOS
VBC1_LOAD
VBC5_PUSH_CONST 1145278957 
VBC1_ADD_FF
VBC1_POP
LAB1271: //if else
LAB1271: //if else
[1:279] ;if (fasa == 4){
VBC2_PUSH_LOCAL 3 //fasa
VBC2_PUSH_CONST 4 
VBC1_EQU
VBC4_FALSE_JUMP LAB1382 //if to false
;
[1:280] ;if(cycle == 0 || cycle == (fr2 - framestep)) IkEncA6 -= stepHeight / 124.0 / 2 * 2607.6;
VBC2_PUSH_LOCAL 2 //cycle
VBC1_PUSH_0 
VBC1_EQU
VBC4_TRUE_JUMP_KEEP LAB1303
VBC2_PUSH_LOCAL 2 //cycle
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC1_EQU
VBC4_TRUE_JUMP_KEEP LAB1303
VBC1_PUSH_0
LAB1303:
VBC4_FALSE_JUMP LAB1331 //if to false
;if(cycle == 0 || cycle == (fr2 - framestep)) IkEncA6 -= stepHeight / 124.0 / 2 * 2607.6;
VBC3_PUSH_CONST 171 //IkEncA6
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 41 //stepHeight
VBC5_PUSH_CONST 1123549184 
VBC1_DIV_FF
VBC1_PUSH_2 
VBC1_DIV_FI
VBC5_PUSH_CONST 1159920026 
VBC1_MUL_FF
VBC1_SUB_FF
VBC1_POP
LAB1331: //if else
[1:281] ;if (framestep <= cycle && cycle < fr2 - framestep){
VBC3_PUSH_GLOBAL 19 //framestep
VBC2_PUSH_LOCAL 2 //cycle
VBC1_LESS_EQU
VBC4_FALSE_JUMP_KEEP LAB1356
VBC2_PUSH_LOCAL 2 //cycle
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC1_LESS
VBC4_FALSE_JUMP_KEEP LAB1356
VBC1_PUSH_1
LAB1356:
VBC4_FALSE_JUMP LAB1382 //if to false
;
[1:282] ;IkEncA6 -= stepHeight / 124.0 * 2607.6;
VBC3_PUSH_CONST 171 //IkEncA6
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 41 //stepHeight
VBC5_PUSH_CONST 1123549184 
VBC1_DIV_FF
VBC5_PUSH_CONST 1159920026 
VBC1_MUL_FF
VBC1_SUB_FF
VBC1_POP
LAB1382: //if else
LAB1382: //if else
[1:286] ;sfPoseGroupLin( 1024 , -IkEncA5, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC3_PUSH_CONST 1024 
VBC3_PUSH_GLOBAL 170 //IkEncA5
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:287] ;sfPoseGroupLin( 4096 , -IkEncA6, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC3_PUSH_CONST 4096 
VBC3_PUSH_GLOBAL 171 //IkEncA6
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:288] ;sfPoseGroupLin( 16384 , IkEncA7, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC3_PUSH_CONST 16384 
VBC3_PUSH_GLOBAL 172 //IkEncA7
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:289] ;sfPoseGroupLin( 65536 , -IkEncA8, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC4_PUSH_CONST 65536 
VBC3_PUSH_GLOBAL 173 //IkEncA8
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:290] ;if (relaxFootR == 0){
VBC3_PUSH_GLOBAL 55 //relaxFootR
VBC1_PUSH_0 
VBC1_EQU
VBC4_FALSE_JUMP LAB1504 //if to false
;
[1:291] ;sfPoseGroupLin( 262144 , IkEncA9, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC4_PUSH_CONST 262144 
VBC3_PUSH_GLOBAL 174 //IkEncA9
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:292] ;sfPoseGroupLin( 1048576 , -IkEncA10, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC4_PUSH_CONST 1048576 
VBC3_PUSH_GLOBAL 175 //IkEncA10
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
VBC4_JUMP LAB1519 //if to exit
LAB1504: //if else
;
[1:295] ;relaxFootR = 0;
VBC2_PUSH_CONST 55 //relaxFootR
VBC1_PUSH_0 
VBC1_POP
[1:296] ;sfFreeGroup( 262144  | 1048576  );
VBC5_PUSH_CONST 50 | 0x80000000 //import func index sfFreeGroup
VBC4_PUSH_CONST 1310720 
VBC1_CALL1
VBC1_STACK_UP2//remove result, call address and params
LAB1519: //if exit
VBC4_JUMP LAB1661 //if to exit
LAB1523: //if else
;
[1:301] ;sfPoseGroupLin( 2048 , IkEncA5, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC3_PUSH_CONST 2048 
VBC3_PUSH_GLOBAL 170 //IkEncA5
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:302] ;sfPoseGroupLin( 8192 , -IkEncA6, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC3_PUSH_CONST 8192 
VBC3_PUSH_GLOBAL 171 //IkEncA6
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:303] ;sfPoseGroupLin( 32768 , -IkEncA7, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC4_PUSH_CONST 32768 
VBC3_PUSH_GLOBAL 172 //IkEncA7
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:304] ;sfPoseGroupLin( 131072 , -IkEncA8, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC4_PUSH_CONST 131072 
VBC3_PUSH_GLOBAL 173 //IkEncA8
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:305] ;if (relaxFootR == 0){
VBC3_PUSH_GLOBAL 55 //relaxFootR
VBC1_PUSH_0 
VBC1_EQU
VBC4_FALSE_JUMP LAB1646 //if to false
;
[1:306] ;sfPoseGroupLin( 524288 , IkEncA9, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC4_PUSH_CONST 524288 
VBC3_PUSH_GLOBAL 174 //IkEncA9
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:307] ;sfPoseGroupLin( 2097152 , -IkEncA10, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC4_PUSH_CONST 2097152 
VBC3_PUSH_GLOBAL 175 //IkEncA10
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
VBC4_JUMP LAB1661 //if to exit
LAB1646: //if else
;
[1:310] ;relaxFootR = 0;
VBC2_PUSH_CONST 55 //relaxFootR
VBC1_PUSH_0 
VBC1_POP
[1:311] ;sfFreeGroup( 524288  | 2097152  );
VBC5_PUSH_CONST 50 | 0x80000000 //import func index sfFreeGroup
VBC4_PUSH_CONST 2621440 
VBC1_CALL1
VBC1_STACK_UP2//remove result, call address and params
LAB1661: //if exit
LAB1661: //if exit
LAB1661: //if else
[1:317] ;straight_leg_IK( xtl, -ytl, xl, -yl, wl );
VBC3_PUSH_CONST 274  //func address straight_leg_IK
VBC3_PUSH_GLOBAL 27 //xtl
VBC3_PUSH_GLOBAL 28 //ytl
VBC1_NEG_F
VBC3_PUSH_GLOBAL 30 //xl
VBC3_PUSH_GLOBAL 31 //yl
VBC1_NEG_F
VBC3_PUSH_GLOBAL 33 //wl
VBC1_CALL5
VBC1_STACK_UP6//remove result, call address and params
[1:318] ;if( IkOutPresent ) {
VBC3_PUSH_GLOBAL 176 //IkOutPresent
VBC4_FALSE_JUMP LAB2211 //if to false
;
[1:320] ;if (selfFirstLegIsRightLeg == 1){
VBC3_PUSH_GLOBAL 12 //selfFirstLegIsRightLeg
VBC1_PUSH_1 
VBC1_EQU
VBC4_FALSE_JUMP LAB2074 //if to false
;
[1:321] ;if (fasa == 2){
VBC2_PUSH_LOCAL 3 //fasa
VBC1_PUSH_2 
VBC1_EQU
VBC4_FALSE_JUMP LAB1809 //if to false
;
[1:322] ;if(cycle == 0 || cycle == (fr2 - framestep)) IkEncA6 -= stepHeight / 124.0 / 2 * 2607.6;
VBC2_PUSH_LOCAL 2 //cycle
VBC1_PUSH_0 
VBC1_EQU
VBC4_TRUE_JUMP_KEEP LAB1730
VBC2_PUSH_LOCAL 2 //cycle
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC1_EQU
VBC4_TRUE_JUMP_KEEP LAB1730
VBC1_PUSH_0
LAB1730:
VBC4_FALSE_JUMP LAB1758 //if to false
;if(cycle == 0 || cycle == (fr2 - framestep)) IkEncA6 -= stepHeight / 124.0 / 2 * 2607.6;
VBC3_PUSH_CONST 171 //IkEncA6
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 41 //stepHeight
VBC5_PUSH_CONST 1123549184 
VBC1_DIV_FF
VBC1_PUSH_2 
VBC1_DIV_FI
VBC5_PUSH_CONST 1159920026 
VBC1_MUL_FF
VBC1_SUB_FF
VBC1_POP
LAB1758: //if else
[1:323] ;if (framestep <= cycle && cycle < fr2 - framestep){
VBC3_PUSH_GLOBAL 19 //framestep
VBC2_PUSH_LOCAL 2 //cycle
VBC1_LESS_EQU
VBC4_FALSE_JUMP_KEEP LAB1783
VBC2_PUSH_LOCAL 2 //cycle
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC1_LESS
VBC4_FALSE_JUMP_KEEP LAB1783
VBC1_PUSH_1
LAB1783:
VBC4_FALSE_JUMP LAB1809 //if to false
;
[1:324] ;IkEncA6 -= stepHeight / 124.0 * 2607.6;
VBC3_PUSH_CONST 171 //IkEncA6
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 41 //stepHeight
VBC5_PUSH_CONST 1123549184 
VBC1_DIV_FF
VBC5_PUSH_CONST 1159920026 
VBC1_MUL_FF
VBC1_SUB_FF
VBC1_POP
LAB1809: //if else
LAB1809: //if else
[1:327] ;if (fasa == 4){
VBC2_PUSH_LOCAL 3 //fasa
VBC2_PUSH_CONST 4 
VBC1_EQU
VBC4_FALSE_JUMP LAB1932 //if to false
;
[1:328] ;if(cycle == 0 || cycle == (fr2 - framestep)) IkEncA6 += stepHeight / 124.0 / 2 * 2607.6;
VBC2_PUSH_LOCAL 2 //cycle
VBC1_PUSH_0 
VBC1_EQU
VBC4_TRUE_JUMP_KEEP LAB1841
VBC2_PUSH_LOCAL 2 //cycle
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC1_EQU
VBC4_TRUE_JUMP_KEEP LAB1841
VBC1_PUSH_0
LAB1841:
VBC4_FALSE_JUMP LAB1869 //if to false
;if(cycle == 0 || cycle == (fr2 - framestep)) IkEncA6 += stepHeight / 124.0 / 2 * 2607.6;
VBC3_PUSH_CONST 171 //IkEncA6
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 41 //stepHeight
VBC5_PUSH_CONST 1123549184 
VBC1_DIV_FF
VBC1_PUSH_2 
VBC1_DIV_FI
VBC5_PUSH_CONST 1159920026 
VBC1_MUL_FF
VBC1_ADD_FF
VBC1_POP
LAB1869: //if else
[1:329] ;if (framestep <= cycle && cycle < fr2 - framestep){
VBC3_PUSH_GLOBAL 19 //framestep
VBC2_PUSH_LOCAL 2 //cycle
VBC1_LESS_EQU
VBC4_FALSE_JUMP_KEEP LAB1894
VBC2_PUSH_LOCAL 2 //cycle
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC1_LESS
VBC4_FALSE_JUMP_KEEP LAB1894
VBC1_PUSH_1
LAB1894:
VBC4_FALSE_JUMP LAB1932 //if to false
;
[1:330] ;IkEncA6 += stepHeight / 124.0 * 2607.6;
VBC3_PUSH_CONST 171 //IkEncA6
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 41 //stepHeight
VBC5_PUSH_CONST 1123549184 
VBC1_DIV_FF
VBC5_PUSH_CONST 1159920026 
VBC1_MUL_FF
VBC1_ADD_FF
VBC1_POP
[1:331] ;IkEncA10 += 0.3 * 2607.6;
VBC3_PUSH_CONST 175 //IkEncA10
VBC1_PUSH_TOS
VBC1_LOAD
VBC5_PUSH_CONST 1145278957 
VBC1_ADD_FF
VBC1_POP
LAB1932: //if else
LAB1932: //if else
[1:334] ;sfPoseGroupLin( 2048 , -IkEncA5, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC3_PUSH_CONST 2048 
VBC3_PUSH_GLOBAL 170 //IkEncA5
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:335] ;sfPoseGroupLin( 8192 , -IkEncA6, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC3_PUSH_CONST 8192 
VBC3_PUSH_GLOBAL 171 //IkEncA6
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:336] ;sfPoseGroupLin( 32768 , IkEncA7, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC4_PUSH_CONST 32768 
VBC3_PUSH_GLOBAL 172 //IkEncA7
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:337] ;sfPoseGroupLin( 131072 , -IkEncA8, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC4_PUSH_CONST 131072 
VBC3_PUSH_GLOBAL 173 //IkEncA8
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:338] ;if (relaxFootL == 0){
VBC3_PUSH_GLOBAL 56 //relaxFootL
VBC1_PUSH_0 
VBC1_EQU
VBC4_FALSE_JUMP LAB2055 //if to false
;
[1:339] ;sfPoseGroupLin( 524288 , IkEncA9, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC4_PUSH_CONST 524288 
VBC3_PUSH_GLOBAL 174 //IkEncA9
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:340] ;sfPoseGroupLin( 2097152 , -IkEncA10, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC4_PUSH_CONST 2097152 
VBC3_PUSH_GLOBAL 175 //IkEncA10
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
VBC4_JUMP LAB2070 //if to exit
LAB2055: //if else
;
[1:343] ;relaxFootL = 0;
VBC2_PUSH_CONST 56 //relaxFootL
VBC1_PUSH_0 
VBC1_POP
[1:344] ;sfFreeGroup( 524288  | 2097152  );
VBC5_PUSH_CONST 50 | 0x80000000 //import func index sfFreeGroup
VBC4_PUSH_CONST 2621440 
VBC1_CALL1
VBC1_STACK_UP2//remove result, call address and params
LAB2070: //if exit
VBC4_JUMP LAB2211 //if to exit
LAB2074: //if else
;
[1:349] ;sfPoseGroupLin( 1024 , IkEncA5, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC3_PUSH_CONST 1024 
VBC3_PUSH_GLOBAL 170 //IkEncA5
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:350] ;sfPoseGroupLin( 4096 , -IkEncA6, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC3_PUSH_CONST 4096 
VBC3_PUSH_GLOBAL 171 //IkEncA6
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:351] ;sfPoseGroupLin( 16384 , -IkEncA7, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC3_PUSH_CONST 16384 
VBC3_PUSH_GLOBAL 172 //IkEncA7
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:352] ;sfPoseGroupLin( 65536 , -IkEncA8, fps );   
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC4_PUSH_CONST 65536 
VBC3_PUSH_GLOBAL 173 //IkEncA8
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:353] ;if (relaxFootL == 0){
VBC3_PUSH_GLOBAL 56 //relaxFootL
VBC1_PUSH_0 
VBC1_EQU
VBC4_FALSE_JUMP LAB2196 //if to false
;
[1:354] ;sfPoseGroupLin( 262144 , IkEncA9, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC4_PUSH_CONST 262144 
VBC3_PUSH_GLOBAL 174 //IkEncA9
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
[1:355] ;sfPoseGroupLin( 1048576 , -IkEncA10, fps );
VBC5_PUSH_CONST 56 | 0x80000000 //import func index sfPoseGroupLin
VBC4_PUSH_CONST 1048576 
VBC3_PUSH_GLOBAL 175 //IkEncA10
VBC1_NEG_F
VBC1_F_TO_I
VBC3_PUSH_GLOBAL 53 //fps
VBC1_CALL3
VBC1_STACK_UP4//remove result, call address and params
VBC4_JUMP LAB2211 //if to exit
LAB2196: //if else
;
[1:358] ;relaxFootL = 0;
VBC2_PUSH_CONST 56 //relaxFootL
VBC1_PUSH_0 
VBC1_POP
[1:359] ;sfFreeGroup( 262144  | 1048576  ); 
VBC5_PUSH_CONST 50 | 0x80000000 //import func index sfFreeGroup
VBC4_PUSH_CONST 1310720 
VBC1_CALL1
VBC1_STACK_UP2//remove result, call address and params
LAB2211: //if exit
LAB2211: //if exit
LAB2211: //if else
[1:365] ;sfWaitFrame( framestep );
VBC2_PUSH_CONST 56  //func address sfWaitFrame
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_CALL1
VBC1_STACK_UP2//remove result, call address and params
[1:366] ;return 1;
VBC1_PUSH_1 
VBC2_POP_RESULT 4
VBC1_RETURN
;walkStraightInitialPose <void()>
VBC1_STACK_DN1//local vars 1
[1:384] ;
[1:384] ;int pose_taking_cycles = 20;
VBC2_PUSH_B_OFFSET -1 //pose_taking_cycles
VBC2_PUSH_CONST 20 
VBC1_POP
[1:385] ;xtr = xtl = 0;
VBC2_PUSH_CONST 20 //xtr
VBC2_PUSH_CONST 27 //xtl
VBC1_PUSH_0 
VBC1_STORE_CF
VBC1_POP
[1:386] ;for( j = 0; j < pose_taking_cycles; j++ ) {
VBC3_PUSH_CONST 161 //j
VBC1_PUSH_0 
VBC1_POP
LAB2240: //for condition
VBC3_PUSH_GLOBAL 161 //j
VBC2_PUSH_LOCAL -1 //pose_taking_cycles
VBC1_LESS
VBC4_FALSE_JUMP LAB2307 //to for exit
;
[1:390] ;ytr = -d10 - j * amplitude * 2.0 /pose_taking_cycles;
VBC2_PUSH_CONST 21 //ytr
VBC3_PUSH_GLOBAL 35 //d10
VBC1_NEG_F
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 36 //amplitude
VBC1_MUL_IF
VBC5_PUSH_CONST 1073741824 
VBC1_MUL_FF
VBC2_PUSH_LOCAL -1 //pose_taking_cycles
VBC1_DIV_FI
VBC1_SUB_FF
VBC1_POP
[1:391] ;ytl =  ytr + 2.0 * d10;
VBC2_PUSH_CONST 28 //ytl
VBC3_PUSH_GLOBAL 21 //ytr
VBC5_PUSH_CONST 1073741824 
VBC3_PUSH_GLOBAL 35 //d10
VBC1_MUL_FF
VBC1_ADD_FF
VBC1_POP
[1:393] ;computeAlphaForWalkStraight(0, j);
VBC3_PUSH_CONST 1113  //func address computeAlphaForWalkStraight
VBC1_PUSH_0 
VBC3_PUSH_GLOBAL 161 //j
VBC1_CALL2
VBC1_STACK_UP3//remove result, call address and params
LAB2299: //for step
VBC3_PUSH_CONST 161 //j
VBC1_INC
VBC4_JUMP LAB2240 //to condition
LAB2307: //for exit
[1:398] ;
VBC1_RETURN
;walkStraightFinalPose <void()>
[1:399] ;for( j = 0; j < selfInitPoses; j++ ) {
VBC3_PUSH_CONST 161 //j
VBC1_PUSH_0 
VBC1_POP
LAB2313: //for condition
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 13 //selfInitPoses
VBC1_LESS
VBC4_FALSE_JUMP LAB2396 //to for exit
;
[1:401] ;xtr = ytr = 0;
VBC2_PUSH_CONST 20 //xtr
VBC2_PUSH_CONST 21 //ytr
VBC1_PUSH_0 
VBC1_STORE_CF
VBC1_POP
[1:402] ;wr = wl = 0;
VBC2_PUSH_CONST 26 //wr
VBC2_PUSH_CONST 33 //wl
VBC1_PUSH_0 
VBC1_STORE_CF
VBC1_POP
[1:403] ;ytr = -d10 + (selfInitPoses - (j+1)) * stepYtr;
VBC2_PUSH_CONST 21 //ytr
VBC3_PUSH_GLOBAL 35 //d10
VBC1_NEG_F
VBC3_PUSH_GLOBAL 13 //selfInitPoses
VBC3_PUSH_GLOBAL 161 //j
VBC1_PUSH_1 
VBC1_ADD
VBC1_SUB
VBC3_PUSH_GLOBAL 50 //stepYtr
VBC1_MUL_IF
VBC1_ADD_FF
VBC1_POP
[1:404] ;ytl =  d10 + (selfInitPoses - (j+1)) * stepYtl;
VBC2_PUSH_CONST 28 //ytl
VBC3_PUSH_GLOBAL 35 //d10
VBC3_PUSH_GLOBAL 13 //selfInitPoses
VBC3_PUSH_GLOBAL 161 //j
VBC1_PUSH_1 
VBC1_ADD
VBC1_SUB
VBC3_PUSH_GLOBAL 51 //stepYtl
VBC1_MUL_IF
VBC1_ADD_FF
VBC1_POP
[1:406] ;computeAlphaForWalkStraight(0, j);
VBC3_PUSH_CONST 1113  //func address computeAlphaForWalkStraight
VBC1_PUSH_0 
VBC3_PUSH_GLOBAL 161 //j
VBC1_CALL2
VBC1_STACK_UP3//remove result, call address and params
LAB2388: //for step
VBC3_PUSH_CONST 161 //j
VBC1_INC
VBC4_JUMP LAB2313 //to condition
LAB2396: //for exit
[1:410] ;
VBC1_RETURN
;walkStraightInit <void()>
[1:424] ;correctedStepLenght = stepLength + selfMotionShiftCorrectionX;
VBC2_PUSH_CONST 42 //correctedStepLenght
VBC3_PUSH_GLOBAL 3 //stepLength
VBC3_PUSH_GLOBAL 6 //selfMotionShiftCorrectionX
VBC1_ADD_FF
VBC1_POP
[1:425] ;correctedSideLenght = sideLength - selfMotionShiftCorrectionY;
VBC2_PUSH_CONST 44 //correctedSideLenght
VBC3_PUSH_GLOBAL 4 //sideLength
VBC3_PUSH_GLOBAL 7 //selfMotionShiftCorrectionY
VBC1_SUB_FF
VBC1_POP
[1:426] ;correctedSideLenghtHalf = correctedSideLenght / 2;
VBC2_PUSH_CONST 45 //correctedSideLenghtHalf
VBC3_PUSH_GLOBAL 44 //correctedSideLenght
VBC1_PUSH_2 
VBC1_DIV_FI
VBC1_POP
[1:429] ;correctedRotation = -rotation *0.25 * 0.23 / ( rotation <= 0 ? rotationYieldRight : rotationYieldLeft);
VBC3_PUSH_CONST 181 //correctedRotation
VBC3_PUSH_GLOBAL 5 //rotation
VBC1_NEG_F
VBC5_PUSH_CONST 1048576000 
VBC1_MUL_FF
VBC5_PUSH_CONST 1047233823 
VBC1_MUL_FF
VBC3_PUSH_GLOBAL 5 //rotation
VBC1_PUSH_0 
VBC1_LESS_EQU_FI
VBC4_FALSE_JUMP LAB2460
VBC3_PUSH_GLOBAL 17 //rotationYieldRight
VBC4_JUMP LAB2463
LAB2460:
VBC3_PUSH_GLOBAL 18 //rotationYieldLeft
LAB2463:
VBC1_DIV_FF
VBC1_POP
[1:430] ;dx0Typical = correctedStepLenght / (2.0 * fr1 + fr2) * framestep;
VBC3_PUSH_CONST 179 //dx0Typical
VBC3_PUSH_GLOBAL 42 //correctedStepLenght
VBC5_PUSH_CONST 1073741824 
VBC3_PUSH_GLOBAL 38 //fr1
VBC1_MUL_FI
VBC3_PUSH_GLOBAL 39 //fr2
VBC1_ADD_FI
VBC1_DIV_FF
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_MUL_FI
VBC1_POP
[1:431] ;dy0Typical = correctedSideLenght / (2.0 * fr1 + fr2) * framestep;
VBC3_PUSH_CONST 180 //dy0Typical
VBC3_PUSH_GLOBAL 44 //correctedSideLenght
VBC5_PUSH_CONST 1073741824 
VBC3_PUSH_GLOBAL 38 //fr1
VBC1_MUL_FI
VBC3_PUSH_GLOBAL 39 //fr2
VBC1_ADD_FI
VBC1_DIV_FF
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_MUL_FI
VBC1_POP
[1:434] ;xr = xl = bodyTiltAtWalk;
VBC2_PUSH_CONST 23 //xr
VBC2_PUSH_CONST 30 //xl
VBC3_PUSH_GLOBAL 57 //bodyTiltAtWalk
VBC1_STORE
VBC1_POP
[1:435] ;yl =  solyLandingSkew;
VBC2_PUSH_CONST 31 //yl
VBC3_PUSH_GLOBAL 58 //solyLandingSkew
VBC1_POP
[1:436] ;yr = -solyLandingSkew;
VBC2_PUSH_CONST 24 //yr
VBC3_PUSH_GLOBAL 58 //solyLandingSkew
VBC1_NEG_F
VBC1_POP
[1:437] ;fase_offset = 2.8;
VBC3_PUSH_CONST 183 //fase_offset
VBC5_PUSH_CONST 1077097267 
VBC1_POP
[1:438] ;parabaloid_list_creator();
VBC2_PUSH_CONST 70  //func address parabaloid_list_creator
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:444] ;
VBC1_RETURN
;walkStraightPhasa1 <void()>
[1:445] ;ztl = ztr = -gaitHeight;
VBC2_PUSH_CONST 29 //ztl
VBC2_PUSH_CONST 22 //ztr
VBC3_PUSH_GLOBAL 40 //gaitHeight
VBC1_NEG_F
VBC1_STORE
VBC1_POP
[1:446] ;for( j = 0; j < fr1; j += framestep ) {
VBC3_PUSH_CONST 161 //j
VBC1_PUSH_0 
VBC1_POP
LAB2566: //for condition
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 38 //fr1
VBC1_LESS
VBC4_FALSE_JUMP LAB2769 //to for exit
;
[1:447] ;s = (amplitude / 2 + correctedSideLenghtHalf) * sfMathCos(alpha01 * (j / 2 + fase_offset * framestep));
VBC3_PUSH_CONST 182 //s
VBC3_PUSH_GLOBAL 36 //amplitude
VBC1_PUSH_2 
VBC1_DIV_FI
VBC3_PUSH_GLOBAL 45 //correctedSideLenghtHalf
VBC1_ADD_FF
VBC5_PUSH_CONST 300 | 0x80000000 //import func index sfMathCos
//alloc addon amount for result
VBC3_PUSH_GLOBAL 37 //alpha01
VBC3_PUSH_GLOBAL 161 //j
VBC1_PUSH_2 
VBC1_DIV
VBC3_PUSH_GLOBAL 183 //fase_offset
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_MUL_FI
VBC1_ADD_IF
VBC1_MUL_FF
VBC1_CALL1
VBC1_STACK_UP1//remove call address and params
VBC1_MUL_FF
VBC1_POP
[1:448] ;ytr = s - d10 + correctedSideLenghtHalf;
VBC2_PUSH_CONST 21 //ytr
VBC3_PUSH_GLOBAL 182 //s
VBC3_PUSH_GLOBAL 35 //d10
VBC1_SUB_FF
VBC3_PUSH_GLOBAL 45 //correctedSideLenghtHalf
VBC1_ADD_FF
VBC1_POP
[1:449] ;ytl = s + d10 + correctedSideLenghtHalf;
VBC2_PUSH_CONST 28 //ytl
VBC3_PUSH_GLOBAL 182 //s
VBC3_PUSH_GLOBAL 35 //d10
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 45 //correctedSideLenghtHalf
VBC1_ADD_FF
VBC1_POP
[1:450] ;if( stepType == 0 ) continue;
VBC3_PUSH_GLOBAL 52 //stepType
VBC1_PUSH_0 
VBC1_EQU
VBC4_FALSE_JUMP LAB2656 //if to false
;if( stepType == 0 ) continue;
VBC4_JUMP LAB2755 //to loop condition
LAB2656: //if else
[1:451] ;relaxFootL = ((j <= 0) ? 1 : 0);
VBC2_PUSH_CONST 56 //relaxFootL
VBC3_PUSH_GLOBAL 161 //j
VBC1_PUSH_0 
VBC1_LESS_EQU
VBC4_FALSE_JUMP LAB2672
VBC1_PUSH_1 
VBC4_JUMP LAB2673
LAB2672:
VBC1_PUSH_0 
LAB2673:
VBC1_POP
[1:452] ;xtl_plan = correctedStepLenght * ( 0.5 -  fr1/( 2.0 * fr1 + fr2));
VBC3_PUSH_CONST 184 //xtl_plan
VBC3_PUSH_GLOBAL 42 //correctedStepLenght
VBC5_PUSH_CONST 1056964608 
VBC3_PUSH_GLOBAL 38 //fr1
VBC5_PUSH_CONST 1073741824 
VBC3_PUSH_GLOBAL 38 //fr1
VBC1_MUL_FI
VBC3_PUSH_GLOBAL 39 //fr2
VBC1_ADD_FI
VBC1_DIV_IF
VBC1_SUB_FF
VBC1_MUL_FF
VBC1_POP
[1:453] ;dx1 = (xtl_plan - xtl) / (fr1 - i) * framestep;
VBC3_PUSH_CONST 188 //dx1
VBC3_PUSH_GLOBAL 184 //xtl_plan
VBC3_PUSH_GLOBAL 27 //xtl
VBC1_SUB_FF
VBC3_PUSH_GLOBAL 38 //fr1
VBC3_PUSH_GLOBAL 162 //i
VBC1_SUB
VBC1_DIV_FI
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_MUL_FI
VBC1_POP
[1:454] ;xtl += dx1;
VBC2_PUSH_CONST 27 //xtl
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 188 //dx1
VBC1_ADD_FF
VBC1_POP
[1:455] ;xtr += dx1;
VBC2_PUSH_CONST 20 //xtr
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 188 //dx1
VBC1_ADD_FF
VBC1_POP
[1:457] ;computeAlphaForWalkStraight(0, j);
VBC3_PUSH_CONST 1113  //func address computeAlphaForWalkStraight
VBC1_PUSH_0 
VBC3_PUSH_GLOBAL 161 //j
VBC1_CALL2
VBC1_STACK_UP3//remove result, call address and params
LAB2755: //for step
VBC3_PUSH_CONST 161 //j
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_ADD
VBC1_POP
VBC4_JUMP LAB2566 //to condition
LAB2769: //for exit
[1:463] ;
VBC1_RETURN
;walkStraightPhasa3 <void()>
[1:464] ;ztl = ztr = -gaitHeight;
VBC2_PUSH_CONST 29 //ztl
VBC2_PUSH_CONST 22 //ztr
VBC3_PUSH_GLOBAL 40 //gaitHeight
VBC1_NEG_F
VBC1_STORE
VBC1_POP
[1:465] ;for( j = 0; j < fr1; j += framestep ) {
VBC3_PUSH_CONST 161 //j
VBC1_PUSH_0 
VBC1_POP
LAB2785: //for condition
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 38 //fr1
VBC1_LESS
VBC4_FALSE_JUMP LAB2929 //to for exit
;
[1:466] ;s = (amplitude / 2.0 + correctedSideLenghtHalf) * sfMathCos(alpha01 * ((j +fr1) / 2 + fase_offset * framestep));
VBC3_PUSH_CONST 182 //s
VBC3_PUSH_GLOBAL 36 //amplitude
VBC5_PUSH_CONST 1073741824 
VBC1_DIV_FF
VBC3_PUSH_GLOBAL 45 //correctedSideLenghtHalf
VBC1_ADD_FF
VBC5_PUSH_CONST 300 | 0x80000000 //import func index sfMathCos
//alloc addon amount for result
VBC3_PUSH_GLOBAL 37 //alpha01
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 38 //fr1
VBC1_ADD
VBC1_PUSH_2 
VBC1_DIV
VBC3_PUSH_GLOBAL 183 //fase_offset
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_MUL_FI
VBC1_ADD_IF
VBC1_MUL_FF
VBC1_CALL1
VBC1_STACK_UP1//remove call address and params
VBC1_MUL_FF
VBC1_POP
[1:467] ;ytr = s - d10 - correctedSideLenghtHalf;
VBC2_PUSH_CONST 21 //ytr
VBC3_PUSH_GLOBAL 182 //s
VBC3_PUSH_GLOBAL 35 //d10
VBC1_SUB_FF
VBC3_PUSH_GLOBAL 45 //correctedSideLenghtHalf
VBC1_SUB_FF
VBC1_POP
[1:468] ;ytl = s + d10 + correctedSideLenghtHalf;
VBC2_PUSH_CONST 28 //ytl
VBC3_PUSH_GLOBAL 182 //s
VBC3_PUSH_GLOBAL 35 //d10
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 45 //correctedSideLenghtHalf
VBC1_ADD_FF
VBC1_POP
[1:469] ;xtl += dx2;
VBC2_PUSH_CONST 27 //xtl
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 189 //dx2
VBC1_ADD_FF
VBC1_POP
[1:470] ;xtr += dx2;
VBC2_PUSH_CONST 20 //xtr
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 189 //dx2
VBC1_ADD_FF
VBC1_POP
[1:471] ;relaxFootR = ((j <= 0) ? 1 : 0);
VBC2_PUSH_CONST 55 //relaxFootR
VBC3_PUSH_GLOBAL 161 //j
VBC1_PUSH_0 
VBC1_LESS_EQU
VBC4_FALSE_JUMP LAB2904
VBC1_PUSH_1 
VBC4_JUMP LAB2905
LAB2904:
VBC1_PUSH_0 
LAB2905:
VBC1_POP
[1:473] ;computeAlphaForWalkStraight(0, j);
VBC3_PUSH_CONST 1113  //func address computeAlphaForWalkStraight
VBC1_PUSH_0 
VBC3_PUSH_GLOBAL 161 //j
VBC1_CALL2
VBC1_STACK_UP3//remove result, call address and params
LAB2915: //for step
VBC3_PUSH_CONST 161 //j
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_ADD
VBC1_POP
VBC4_JUMP LAB2785 //to condition
LAB2929: //for exit
[1:478] ;
VBC1_RETURN
;walkStraightPhasa2 <void()>
VBC1_STACK_DN1//local vars 1
[1:482] ;ztr = -gaitHeight + stepHeight;
VBC2_PUSH_CONST 22 //ztr
VBC3_PUSH_GLOBAL 40 //gaitHeight
VBC1_NEG_F
VBC3_PUSH_GLOBAL 41 //stepHeight
VBC1_ADD_FF
VBC1_POP
[1:483] ;dy = correctedSideLenght * framestep / fr2;
VBC3_PUSH_CONST 191 //dy
VBC3_PUSH_GLOBAL 44 //correctedSideLenght
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_MUL_FI
VBC3_PUSH_GLOBAL 39 //fr2
VBC1_DIV_FI
VBC1_POP
[1:487] ;stepRotation = correctedRotation / (fr2 - 2.0 * framestep) * 2.0;
VBC3_PUSH_CONST 192 //stepRotation
VBC3_PUSH_GLOBAL 181 //correctedRotation
VBC3_PUSH_GLOBAL 39 //fr2
VBC5_PUSH_CONST 1073741824 
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_MUL_FI
VBC1_SUB_IF
VBC1_DIV_FF
VBC5_PUSH_CONST 1073741824 
VBC1_MUL_FF
VBC1_POP
[1:488] ;xtl_plan = correctedStepLenght *( 0.5 - (fr1 + fr2) / (2.0 * fr1 + fr2));
VBC3_PUSH_CONST 184 //xtl_plan
VBC3_PUSH_GLOBAL 42 //correctedStepLenght
VBC5_PUSH_CONST 1056964608 
VBC3_PUSH_GLOBAL 38 //fr1
VBC3_PUSH_GLOBAL 39 //fr2
VBC1_ADD
VBC5_PUSH_CONST 1073741824 
VBC3_PUSH_GLOBAL 38 //fr1
VBC1_MUL_FI
VBC3_PUSH_GLOBAL 39 //fr2
VBC1_ADD_FI
VBC1_DIV_IF
VBC1_SUB_FF
VBC1_MUL_FF
VBC1_POP
[1:489] ;xtr_plan = correctedStepLenght / 2.0 + dx0Typical;
VBC3_PUSH_CONST 185 //xtr_plan
VBC3_PUSH_GLOBAL 42 //correctedStepLenght
VBC5_PUSH_CONST 1073741824 
VBC1_DIV_FF
VBC3_PUSH_GLOBAL 179 //dx0Typical
VBC1_ADD_FF
VBC1_POP
[1:490] ;for( j = 0; j < fr2; j += framestep ) {
VBC3_PUSH_CONST 161 //j
VBC1_PUSH_0 
VBC1_POP
LAB3041: //for condition
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 39 //fr2
VBC1_LESS
VBC4_FALSE_JUMP LAB3341 //to for exit
;
[1:491] ;dx2 = (xtl_plan - xtl) / (fr2 - j) * framestep;
VBC3_PUSH_CONST 189 //dx2
VBC3_PUSH_GLOBAL 184 //xtl_plan
VBC3_PUSH_GLOBAL 27 //xtl
VBC1_SUB_FF
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 161 //j
VBC1_SUB
VBC1_DIV_FI
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_MUL_FI
VBC1_POP
[1:492] ;if( j == 0 ) {
VBC3_PUSH_GLOBAL 161 //j
VBC1_PUSH_0 
VBC1_EQU
VBC4_FALSE_JUMP LAB3111 //if to false
;
[1:493] ;xtr += dx2;
VBC2_PUSH_CONST 20 //xtr
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 189 //dx2
VBC1_ADD_FF
VBC1_POP
[1:494] ;ytr  = s - d10 + dy0Typical;
VBC2_PUSH_CONST 21 //ytr
VBC3_PUSH_GLOBAL 182 //s
VBC3_PUSH_GLOBAL 35 //d10
VBC1_SUB_FF
VBC3_PUSH_GLOBAL 180 //dy0Typical
VBC1_ADD_FF
VBC1_POP
VBC4_JUMP LAB3276 //if to exit
LAB3111: //if else
;else if( j == (fr2 - framestep) ) {
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC1_EQU
VBC4_FALSE_JUMP LAB3159 //if to false
;
[1:497] ;xtr += dx2;
VBC2_PUSH_CONST 20 //xtr
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 189 //dx2
VBC1_ADD_FF
VBC1_POP
[1:498] ;ytr  = s - d10 + 2 * dy0Typical - correctedSideLenght;
VBC2_PUSH_CONST 21 //ytr
VBC3_PUSH_GLOBAL 182 //s
VBC3_PUSH_GLOBAL 35 //d10
VBC1_SUB_FF
VBC1_PUSH_2 
VBC3_PUSH_GLOBAL 180 //dy0Typical
VBC1_MUL_IF
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 44 //correctedSideLenght
VBC1_SUB_FF
VBC1_POP
VBC4_JUMP LAB3276 //if to exit
LAB3159: //if else
;
[1:501] ;if (j == framestep) float dxr = (xtr_plan - xtr) / segments_sum;
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_EQU
VBC4_FALSE_JUMP LAB3184 //if to false
;
[1:501] ;if (j == framestep) float dxr = (xtr_plan - xtr) / segments_sum;
VBC2_PUSH_B_OFFSET -1 //dxr
VBC3_PUSH_GLOBAL 185 //xtr_plan
VBC3_PUSH_GLOBAL 20 //xtr
VBC1_SUB_FF
VBC3_PUSH_GLOBAL 160 //segments_sum
VBC1_DIV_FI
VBC1_POP
LAB3184: //if else
[1:502] ;dx = dxr * segments[(j - framestep)/ framestep];
VBC3_PUSH_CONST 186 //dx
VBC2_PUSH_LOCAL -1 //dxr
VBC2_PUSH_CONST 60 //segments
//array address
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_DIV
//array index
VBC1_ADD //array cell address
VBC1_LOAD//array cell value
VBC1_MUL_FI
VBC1_POP
[1:503] ;xtr += dx;
VBC2_PUSH_CONST 20 //xtr
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 186 //dx
VBC1_ADD_FF
VBC1_POP
[1:504] ;ytr  = s - 64 + dy0Typical - dy * (j / 2) * fr2 / (fr2 - 2.0 * framestep);
VBC2_PUSH_CONST 21 //ytr
VBC3_PUSH_GLOBAL 182 //s
VBC2_PUSH_CONST 64 
VBC1_SUB_FI
VBC3_PUSH_GLOBAL 180 //dy0Typical
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 191 //dy
VBC3_PUSH_GLOBAL 161 //j
VBC1_PUSH_2 
VBC1_DIV
VBC1_MUL_FI
VBC3_PUSH_GLOBAL 39 //fr2
VBC1_MUL_FI
VBC3_PUSH_GLOBAL 39 //fr2
VBC5_PUSH_CONST 1073741824 
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_MUL_FI
VBC1_SUB_IF
VBC1_DIV_FF
VBC1_SUB_FF
VBC1_POP
[1:505] ;wr = correctedRotation - j * stepRotation;
VBC2_PUSH_CONST 26 //wr
VBC3_PUSH_GLOBAL 181 //correctedRotation
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 192 //stepRotation
VBC1_MUL_IF
VBC1_SUB_FF
VBC1_POP
[1:506] ;wl = wr;
VBC2_PUSH_CONST 33 //wl
VBC3_PUSH_GLOBAL 26 //wr
VBC1_POP
LAB3276: //if exit
LAB3276: //if exit
[1:508] ;xtl += dx2;
VBC2_PUSH_CONST 27 //xtl
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 189 //dx2
VBC1_ADD_FF
VBC1_POP
[1:509] ;ytl += dy0Typical;
VBC2_PUSH_CONST 28 //ytl
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 180 //dy0Typical
VBC1_ADD_FF
VBC1_POP
[1:510] ;relaxFootR = (j == (fr2 - framestep) ? 1 : 0);
VBC2_PUSH_CONST 55 //relaxFootR
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC1_EQU
VBC4_FALSE_JUMP LAB3316
VBC1_PUSH_1 
VBC4_JUMP LAB3317
LAB3316:
VBC1_PUSH_0 
LAB3317:
VBC1_POP
[1:512] ;computeAlphaForWalkStraight(2, j);
VBC3_PUSH_CONST 1113  //func address computeAlphaForWalkStraight
VBC1_PUSH_2 
VBC3_PUSH_GLOBAL 161 //j
VBC1_CALL2
VBC1_STACK_UP3//remove result, call address and params
LAB3327: //for step
VBC3_PUSH_CONST 161 //j
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_ADD
VBC1_POP
VBC4_JUMP LAB3041 //to condition
LAB3341: //for exit
[1:518] ;
VBC1_RETURN
;walkStraightPhasa4 <void()>
VBC1_STACK_DN1//local vars 1
[1:520] ;ztl = -gaitHeight + stepHeight;
VBC2_PUSH_CONST 29 //ztl
VBC3_PUSH_GLOBAL 40 //gaitHeight
VBC1_NEG_F
VBC3_PUSH_GLOBAL 41 //stepHeight
VBC1_ADD_FF
VBC1_POP
[1:522] ;for( j = 0; j < fr2; j += framestep ) {
VBC3_PUSH_CONST 161 //j
VBC1_PUSH_0 
VBC1_POP
LAB3359: //for condition
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 39 //fr2
VBC1_LESS
VBC4_FALSE_JUMP LAB3773 //to for exit
;
[1:523] ;if( stepType == 1 ) {
VBC3_PUSH_GLOBAL 52 //stepType
VBC1_PUSH_1 
VBC1_EQU
VBC4_FALSE_JUMP LAB3424 //if to false
;
[1:524] ;xtr_plan = xtl_plan = 0;
VBC3_PUSH_CONST 185 //xtr_plan
VBC3_PUSH_CONST 184 //xtl_plan
VBC1_PUSH_0 
VBC1_STORE_CF
VBC1_POP
[1:525] ;if (j == (fr2 - framestep)){
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC1_EQU
VBC4_FALSE_JUMP LAB3420 //if to false
;
[1:526] ;ztl = -gaitHeight;
VBC2_PUSH_CONST 29 //ztl
VBC3_PUSH_GLOBAL 40 //gaitHeight
VBC1_NEG_F
VBC1_POP
[1:527] ;ytl = s + d10;
VBC2_PUSH_CONST 28 //ytl
VBC3_PUSH_GLOBAL 182 //s
VBC3_PUSH_GLOBAL 35 //d10
VBC1_ADD_FF
VBC1_POP
LAB3420: //if else
VBC4_JUMP LAB3497 //if to exit
LAB3424: //if else
;
[1:531] ;xtr_plan = correctedStepLenght *( 0.5 - (fr1 + fr2) / (2.0 * fr1 + fr2));
VBC3_PUSH_CONST 185 //xtr_plan
VBC3_PUSH_GLOBAL 42 //correctedStepLenght
VBC5_PUSH_CONST 1056964608 
VBC3_PUSH_GLOBAL 38 //fr1
VBC3_PUSH_GLOBAL 39 //fr2
VBC1_ADD
VBC5_PUSH_CONST 1073741824 
VBC3_PUSH_GLOBAL 38 //fr1
VBC1_MUL_FI
VBC3_PUSH_GLOBAL 39 //fr2
VBC1_ADD_FI
VBC1_DIV_IF
VBC1_SUB_FF
VBC1_MUL_FF
VBC1_POP
[1:532] ;xtl_plan = correctedStepLenght / 2 + dx0Typical;
VBC3_PUSH_CONST 184 //xtl_plan
VBC3_PUSH_GLOBAL 42 //correctedStepLenght
VBC1_PUSH_2 
VBC1_DIV_FI
VBC3_PUSH_GLOBAL 179 //dx0Typical
VBC1_ADD_FF
VBC1_POP
[1:533] ;dy = correctedSideLenght /(fr2- 2.0 * framestep) *framestep;
VBC3_PUSH_CONST 191 //dy
VBC3_PUSH_GLOBAL 44 //correctedSideLenght
VBC3_PUSH_GLOBAL 39 //fr2
VBC5_PUSH_CONST 1073741824 
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_MUL_FI
VBC1_SUB_IF
VBC1_DIV_FF
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_MUL_FI
VBC1_POP
LAB3497: //if exit
[1:535] ;dx4 = (xtr_plan - xtr) / (fr2 - j) * framestep;
VBC3_PUSH_CONST 190 //dx4
VBC3_PUSH_GLOBAL 185 //xtr_plan
VBC3_PUSH_GLOBAL 20 //xtr
VBC1_SUB_FF
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 161 //j
VBC1_SUB
VBC1_DIV_FI
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_MUL_FI
VBC1_POP
[1:536] ;if( j == 0 ) {
VBC3_PUSH_GLOBAL 161 //j
VBC1_PUSH_0 
VBC1_EQU
VBC4_FALSE_JUMP LAB3556 //if to false
;
[1:537] ;xtl += dx4;
VBC2_PUSH_CONST 27 //xtl
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 190 //dx4
VBC1_ADD_FF
VBC1_POP
[1:538] ;ytl  = s + d10 + dy;
VBC2_PUSH_CONST 28 //ytl
VBC3_PUSH_GLOBAL 182 //s
VBC3_PUSH_GLOBAL 35 //d10
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 191 //dy
VBC1_ADD_FF
VBC1_POP
VBC4_JUMP LAB3707 //if to exit
LAB3556: //if else
;else if( j == (fr2 - framestep) ) {
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC1_EQU
VBC4_FALSE_JUMP LAB3604 //if to false
;
[1:541] ;xtl += dx4;
VBC2_PUSH_CONST 27 //xtl
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 190 //dx4
VBC1_ADD_FF
VBC1_POP
[1:542] ;ytl  = s + d10 + 2 * dy - correctedSideLenght;
VBC2_PUSH_CONST 28 //ytl
VBC3_PUSH_GLOBAL 182 //s
VBC3_PUSH_GLOBAL 35 //d10
VBC1_ADD_FF
VBC1_PUSH_2 
VBC3_PUSH_GLOBAL 191 //dy
VBC1_MUL_IF
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 44 //correctedSideLenght
VBC1_SUB_FF
VBC1_POP
VBC4_JUMP LAB3707 //if to exit
LAB3604: //if else
;
[1:545] ;if (j == framestep) float dxl = (xtl_plan - xtl) / segments_sum;
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_EQU
VBC4_FALSE_JUMP LAB3629 //if to false
;
[1:545] ;if (j == framestep) float dxl = (xtl_plan - xtl) / segments_sum;
VBC2_PUSH_B_OFFSET -1 //dxl
VBC3_PUSH_GLOBAL 184 //xtl_plan
VBC3_PUSH_GLOBAL 27 //xtl
VBC1_SUB_FF
VBC3_PUSH_GLOBAL 160 //segments_sum
VBC1_DIV_FI
VBC1_POP
LAB3629: //if else
[1:546] ;dx = dxl * segments[(j - framestep)/ framestep];
VBC3_PUSH_CONST 186 //dx
VBC2_PUSH_LOCAL -1 //dxl
VBC2_PUSH_CONST 60 //segments
//array address
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_DIV
//array index
VBC1_ADD //array cell address
VBC1_LOAD//array cell value
VBC1_MUL_FI
VBC1_POP
[1:547] ;xtl += dx;
VBC2_PUSH_CONST 27 //xtl
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 186 //dx
VBC1_ADD_FF
VBC1_POP
[1:548] ;ytl  = s + 64 + dy0Typical - dy * j / 2.0;
VBC2_PUSH_CONST 28 //ytl
VBC3_PUSH_GLOBAL 182 //s
VBC2_PUSH_CONST 64 
VBC1_ADD_FI
VBC3_PUSH_GLOBAL 180 //dy0Typical
VBC1_ADD_FF
VBC3_PUSH_GLOBAL 191 //dy
VBC3_PUSH_GLOBAL 161 //j
VBC1_MUL_FI
VBC5_PUSH_CONST 1073741824 
VBC1_DIV_FF
VBC1_SUB_FF
VBC1_POP
[1:549] ;wr = j * stepRotation - correctedRotation;
VBC2_PUSH_CONST 26 //wr
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 192 //stepRotation
VBC1_MUL_IF
VBC3_PUSH_GLOBAL 181 //correctedRotation
VBC1_SUB_FF
VBC1_POP
[1:550] ;wl = wr;
VBC2_PUSH_CONST 33 //wl
VBC3_PUSH_GLOBAL 26 //wr
VBC1_POP
LAB3707: //if exit
LAB3707: //if exit
[1:552] ;xtr += dx4;
VBC2_PUSH_CONST 20 //xtr
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 190 //dx4
VBC1_ADD_FF
VBC1_POP
[1:553] ;ytr += dy0Typical;
VBC2_PUSH_CONST 21 //ytr
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 180 //dy0Typical
VBC1_ADD_FF
VBC1_POP
[1:554] ;relaxFootL = (j == (fr2 - framestep) ? 1 : 0);
VBC2_PUSH_CONST 56 //relaxFootL
VBC3_PUSH_GLOBAL 161 //j
VBC3_PUSH_GLOBAL 39 //fr2
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_SUB
VBC1_EQU
VBC4_FALSE_JUMP LAB3747
VBC1_PUSH_1 
VBC4_JUMP LAB3748
LAB3747:
VBC1_PUSH_0 
LAB3748:
VBC1_POP
[1:556] ;computeAlphaForWalkStraight(4, j);
VBC3_PUSH_CONST 1113  //func address computeAlphaForWalkStraight
VBC2_PUSH_CONST 4 
VBC3_PUSH_GLOBAL 161 //j
VBC1_CALL2
VBC1_STACK_UP3//remove result, call address and params
LAB3759: //for step
VBC3_PUSH_CONST 161 //j
VBC1_PUSH_TOS
VBC1_LOAD
VBC3_PUSH_GLOBAL 19 //framestep
VBC1_ADD
VBC1_POP
VBC4_JUMP LAB3359 //to condition
LAB3773: //for exit
[1:566] ;
VBC1_RETURN
;walkCycle <void()>
VBC2_STACK -4//local vars 4
[1:571] ;
[1:571] ;float xrOld = xr;
VBC2_PUSH_B_OFFSET -1 //xrOld
VBC3_PUSH_GLOBAL 23 //xr
VBC1_POP
[1:572] ;
[1:572] ;float yrOld = yr;
VBC2_PUSH_B_OFFSET -2 //yrOld
VBC3_PUSH_GLOBAL 24 //yr
VBC1_POP
[1:573] ;
[1:573] ;float xlOld = xl;
VBC2_PUSH_B_OFFSET -3 //xlOld
VBC3_PUSH_GLOBAL 30 //xl
VBC1_POP
[1:574] ;
[1:574] ;float ylOld = yl;
VBC2_PUSH_B_OFFSET -4 //ylOld
VBC3_PUSH_GLOBAL 31 //yl
VBC1_POP
[1:577] ;walkStraightInit();
VBC3_PUSH_CONST 2397  //func address walkStraightInit
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:578] ;walkStraightPhasa1();
VBC3_PUSH_CONST 2551  //func address walkStraightPhasa1
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:579] ;walkStraightPhasa2();
VBC3_PUSH_CONST 2930  //func address walkStraightPhasa2
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:580] ;walkStraightPhasa3();
VBC3_PUSH_CONST 2770  //func address walkStraightPhasa3
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:581] ;walkStraightPhasa4();
VBC3_PUSH_CONST 3342  //func address walkStraightPhasa4
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:585] ;xr = xrOld;
VBC2_PUSH_CONST 23 //xr
VBC2_PUSH_LOCAL -1 //xrOld
VBC1_POP
[1:586] ;yr = yrOld;
VBC2_PUSH_CONST 24 //yr
VBC2_PUSH_LOCAL -2 //yrOld
VBC1_POP
[1:587] ;xl = xlOld;
VBC2_PUSH_CONST 30 //xl
VBC2_PUSH_LOCAL -3 //xlOld
VBC1_POP
[1:588] ;yl = ylOld;
VBC2_PUSH_CONST 31 //yl
VBC2_PUSH_LOCAL -4 //ylOld
VBC1_POP
[1:591] ;
VBC1_RETURN
;stabilizeRotationByIMU <void()>
[1:593] ;sfQuaternionToEulerImu();
VBC5_PUSH_CONST 303 | 0x80000000 //import func index sfQuaternionToEulerImu
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:594] ;rotation = -(svEulerYaw - forwardDirection);
VBC2_PUSH_CONST 5 //rotation
VBC3_PUSH_GLOBAL 1025 //svEulerYaw
VBC3_PUSH_GLOBAL 193 //forwardDirection
VBC1_SUB_FF
VBC1_NEG_F
VBC1_POP
[1:595] ;if( rotation > 3.141592654 ) rotation -= 2 * 3.141592654;
VBC3_PUSH_GLOBAL 5 //rotation
VBC5_PUSH_CONST 1078530011 
VBC1_GREAT_FF
VBC4_FALSE_JUMP LAB3888 //if to false
;if( rotation > 3.141592654 ) rotation -= 2 * 3.141592654;
VBC2_PUSH_CONST 5 //rotation
VBC1_PUSH_TOS
VBC1_LOAD
VBC5_PUSH_CONST 1086918619 
VBC1_SUB_FF
VBC1_POP
LAB3888: //if else
[1:596] ;if( rotation < -3.141592654 ) rotation += 2 * 3.141592654;
VBC3_PUSH_GLOBAL 5 //rotation
VBC5_PUSH_CONST -1068953637 // -
VBC1_LESS_FF
VBC4_FALSE_JUMP LAB3912 //if to false
;if( rotation < -3.141592654 ) rotation += 2 * 3.141592654;
VBC2_PUSH_CONST 5 //rotation
VBC1_PUSH_TOS
VBC1_LOAD
VBC5_PUSH_CONST 1086918619 
VBC1_ADD_FF
VBC1_POP
LAB3912: //if else
[1:597] ;if( rotation > 0.7 ) rotation = 0.7;
VBC3_PUSH_GLOBAL 5 //rotation
VBC5_PUSH_CONST 1060320051 
VBC1_GREAT_FF
VBC4_FALSE_JUMP LAB3933 //if to false
;if( rotation > 0.7 ) rotation = 0.7;
VBC2_PUSH_CONST 5 //rotation
VBC5_PUSH_CONST 1060320051 
VBC1_POP
LAB3933: //if else
[1:598] ;if( rotation < -0.7 ) rotation = -0.7;
VBC3_PUSH_GLOBAL 5 //rotation
VBC5_PUSH_CONST -1087163597 // -
VBC1_LESS_FF
VBC4_FALSE_JUMP LAB3954 //if to false
;if( rotation < -0.7 ) rotation = -0.7;
VBC2_PUSH_CONST 5 //rotation
VBC5_PUSH_CONST -1087163597 // -
VBC1_POP
LAB3954: //if else
[1:606] ;
VBC1_RETURN
;mixing <void()>
[1:611] ;leftRightFactor = 100;
VBC3_PUSH_CONST 194 //leftRightFactor
VBC2_PUSH_CONST 100 
VBC1_POP
[1:612] ;frontBackFactor = 70;
VBC3_PUSH_CONST 195 //frontBackFactor
VBC2_PUSH_CONST 70 
VBC1_POP
[1:614] ;while(1) {
LAB3967: //while condition
;
[1:616] ;leftFootSideAddonMix = -svImuGyroZ * leftRightFactor >> 10;
VBC3_PUSH_CONST 1117 //leftFootSideAddonMix
VBC3_PUSH_GLOBAL 1008 //svImuGyroZ
VBC1_NEG
VBC3_PUSH_GLOBAL 194 //leftRightFactor
VBC1_MUL
VBC2_PUSH_CONST 10 
VBC1_RSHIFT
VBC1_POP
[1:617] ;rightFootSideAddonMix = svImuGyroZ * leftRightFactor >> 10;
VBC3_PUSH_CONST 1113 //rightFootSideAddonMix
VBC3_PUSH_GLOBAL 1008 //svImuGyroZ
VBC3_PUSH_GLOBAL 194 //leftRightFactor
VBC1_MUL
VBC2_PUSH_CONST 10 
VBC1_RSHIFT
VBC1_POP
[1:620] ;rightFootFrontAddonMix = leftFootFrontAddonMix = -svImuGyroX * frontBackFactor >> 10;
VBC3_PUSH_CONST 1105 //rightFootFrontAddonMix
VBC3_PUSH_CONST 1109 //leftFootFrontAddonMix
VBC3_PUSH_GLOBAL 1006 //svImuGyroX
VBC1_NEG
VBC3_PUSH_GLOBAL 195 //frontBackFactor
VBC1_MUL
VBC2_PUSH_CONST 10 
VBC1_RSHIFT
VBC1_STORE
VBC1_POP
[1:623] ;sfWaitNextFrame();
VBC1_WAIT
VBC4_JUMP LAB3967 //while forever loop
LAB4020: //while exit
[1:630] ;
VBC1_RETURN
;runTest <void()>
VBC1_STACK_DN1//local vars 1
[1:632] ;walkStraightInitialPose();
VBC3_PUSH_CONST 2222  //func address walkStraightInitialPose
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:634] ;stepType = 0;
VBC2_PUSH_CONST 52 //stepType
VBC1_PUSH_0 
VBC1_POP
[1:635] ;stepLength = -10 / 3.0;
VBC2_PUSH_CONST 3 //stepLength
VBC5_PUSH_CONST -1068149419 
VBC1_POP
[1:636] ;walkCycle();
VBC3_PUSH_CONST 3774  //func address walkCycle
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:639] ;stepType = 2;
VBC2_PUSH_CONST 52 //stepType
VBC1_PUSH_2 
VBC1_POP
[1:640] ;stepLength = -10 * 2.0 / 3.0;
VBC2_PUSH_CONST 3 //stepLength
VBC5_PUSH_CONST -1059760811 
VBC1_POP
[1:641] ;walkCycle();
VBC3_PUSH_CONST 3774  //func address walkCycle
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:644] ;stepLength = -10;
VBC2_PUSH_CONST 3 //stepLength
VBC2_PUSH_CONST -10 // -
VBC1_POP_CF
[1:645] ;
[1:646] ;for( i = 0; i < 20000 ; i++ ){
VBC2_PUSH_B_OFFSET -1 //i
VBC1_PUSH_0 
VBC1_POP
LAB4070: //for condition
VBC2_PUSH_LOCAL -1 //i
VBC3_PUSH_CONST 20000 
VBC1_LESS
VBC4_FALSE_JUMP LAB4097 //to for exit
;
[1:647] ;stabilizeRotationByIMU();
VBC3_PUSH_CONST 3846  //func address stabilizeRotationByIMU
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:648] ;walkCycle();
VBC3_PUSH_CONST 3774  //func address walkCycle
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
LAB4090: //for step
VBC2_PUSH_B_OFFSET -1 //i
VBC1_INC
VBC4_JUMP LAB4070 //to condition
LAB4097: //for exit
[1:651] ;stepType = 1;
VBC2_PUSH_CONST 52 //stepType
VBC1_PUSH_1 
VBC1_POP
[1:652] ;walkCycle();
VBC3_PUSH_CONST 3774  //func address walkCycle
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:655] ;walkStraightFinalPose();
VBC3_PUSH_CONST 2308  //func address walkStraightFinalPose
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:660] ;
VBC1_RETURN
;main <void()>
[1:661] ;slowWalk = 0;
VBC1_PUSH_2 //slowWalk
VBC1_PUSH_0 
VBC1_POP
[1:662] ;setup();
VBC3_PUSH_CONST 638  //func address setup
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:663] ;sideLength = -5;
VBC2_PUSH_CONST 4 //sideLength
VBC2_PUSH_CONST -5 // -
VBC1_POP_CF
[1:664] ;rotation = 0;
VBC2_PUSH_CONST 5 //rotation
VBC1_PUSH_0 
VBC1_POP_CF
[1:665] ;relaxFootR = 0;
VBC2_PUSH_CONST 55 //relaxFootR
VBC1_PUSH_0 
VBC1_POP
[1:666] ;relaxFootL = 0;
VBC2_PUSH_CONST 56 //relaxFootL
VBC1_PUSH_0 
VBC1_POP
[1:669] ;sfWaitFrame( 100 );
VBC2_PUSH_CONST 56  //func address sfWaitFrame
VBC2_PUSH_CONST 100 
VBC1_CALL1
VBC1_STACK_UP2//remove result, call address and params
[1:672] ;sfQuaternionToEulerImu();
VBC5_PUSH_CONST 303 | 0x80000000 //import func index sfQuaternionToEulerImu
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:673] ;forwardDirection = svEulerYaw;
VBC3_PUSH_CONST 193 //forwardDirection
VBC3_PUSH_GLOBAL 1025 //svEulerYaw
VBC1_POP
[1:676] ;sfCreateTask( mixing, 20 );
VBC5_PUSH_CONST 2 | 0x80000000 //import func index sfCreateTask
VBC3_PUSH_CONST 3955  //func address mixing
VBC2_PUSH_CONST 20 
VBC1_CALL2
VBC1_STACK_UP3//remove result, call address and params
[1:678] ;runTest();
VBC3_PUSH_CONST 4021  //func address runTest
VBC1_CALL0
VBC1_STACK_UP1//remove result, call address and params
[1:681] ;
VBC1_RETURN
//Init table
//Variables
svFrameCount : 1
svImuAccX : 1000
svImuAccY : 1001
svImuAccZ : 1002
svImuAccRawX : 1003
svImuAccRawY : 1004
svImuAccRawZ : 1005
svImuGyroX : 1006
svImuGyroY : 1007
svImuGyroZ : 1008
svImuGyroRawX : 1009
svImuGyroRawY : 1010
svImuGyroRawZ : 1011
svImuQuaterX : 1012
svImuQuaterY : 1013
svImuQuaterZ : 1014
svImuQuaterW : 1015
svImuQuaterAcc : 1016
svImuAccSlowX : 1017
svImuAccSlowY : 1018
svImuAccSlowZ : 1019
svAdc : 1020
svButtonLeft : 1021
svButtonRight : 1022
svButtonPress : 1023
svHeadControlMask : 1024
svEulerYaw F: 1025
svEulerPitch F: 1026
svEulerRoll F: 1027
svRemoteStatus : 1190
svRemoteButton : 1191
svRemoteLeftJoystick : 1192
svRemoteLeftJoystickX : 1193
svRemoteLeftJoystickY : 1194
svRemoteRightJoystick : 1195
svRemoteRightJoystickX : 1196
svRemoteRightJoystickY : 1197
svHumoModelDistPelvic : 1204
svHumoModelLengthPelvicHip : 1205
svHumoModelLengthHipHip : 1206
svHumoModelLengthHipKnee : 1207
svHumoModelLengthKneeFoot : 1208
svHumoModelLengthFootFoot : 1209
svHumoModelDistFootFloor : 1210
svHumoModelFootLength : 1211
svHumoModelFootWidth : 1212
svHumoModelFootCenterBack : 1213
svHumoModelFootCenterInner : 1214
svHumoModelAngPelvic : 1198
svHumoModelAngHipSide : 1200
svHumoModelAngHip : 1199
svHumoModelAngKnee : 1201
svHumoModelAngFoot : 1202
svHumoModelAngFootSide : 1203
svIkA5 F: 1215
svIkB5 F: 1216
svIkC5 F: 1217
svIkA6 F: 1218
svIkA7 F: 1219
svIkA8 F: 1220
svIkA9 F: 1221
svIkA10 F: 1222
svIkB10 F: 1223
svIkC10 F: 1224
svIkLimA5min F: 1225
svIkLimA5max F: 1226
svIkLimA6min F: 1227
svIkLimA6max F: 1228
svIkLimA7min F: 1229
svIkLimA7max F: 1230
svIkLimA8min F: 1231
svIkLimA8max F: 1232
svIkLimA9min F: 1233
svIkLimA9max F: 1234
svIkLimA10min F: 1235
svIkLimA10max F: 1236
svIkOutPresent : 1237
svIkEncA5 : 1238
svIkEncA6 : 1239
svIkEncA7 : 1240
svIkEncA8 : 1241
svIkEncA9 : 1242
svIkEncA10 : 1243
headRotateTarget : 1030
headRotateCurrent : 1031
headRotatePwm : 1032
headRotateAddonMix : 1033
torsoRotateTarget : 1034
torsoRotateCurrent : 1035
torsoRotatePwm : 1036
torsoRotateAddonMix : 1037
rightClavicleTarget : 1038
rightClavicleCurrent : 1039
rightClaviclePwm : 1040
rightClavicleAddonMix : 1041
leftClavicleTarget : 1042
leftClavicleCurrent : 1043
leftClaviclePwm : 1044
leftClavicleAddonMix : 1045
rightShoulderTarget : 1046
rightShoulderCurrent : 1047
rightShoulderPwm : 1048
rightShoulderAddonMix : 1049
leftShoulderTarget : 1050
leftShoulderCurrent : 1051
leftShoulderPwm : 1052
leftShoulderAddonMix : 1053
rightElbowSideTarget : 1054
rightElbowSideCurrent : 1055
rightElbowSidePwm : 1056
rightElbowSideAddonMix : 1057
leftElbowSideTarget : 1058
leftElbowSideCurrent : 1059
leftElbowSidePwm : 1060
leftElbowSideAddonMix : 1061
rightElbowTarget : 1062
rightElbowCurrent : 1063
rightElbowPwm : 1064
rightElbowAddonMix : 1065
leftElbowTarget : 1066
leftElbowCurrent : 1067
leftElbowPwm : 1068
leftElbowAddonMix : 1069
rightPelvicTarget : 1070
rightPelvicCurrent : 1071
rightPelvicPwm : 1072
rightPelvicAddonMix : 1073
leftPelvicTarget : 1074
leftPelvicCurrent : 1075
leftPelvicPwm : 1076
leftPelvicAddonMix : 1077
rightHipSideTarget : 1078
rightHipSideCurrent : 1079
rightHipSidePwm : 1080
rightHipSideAddonMix : 1081
leftHipSideTarget : 1082
leftHipSideCurrent : 1083
leftHipSidePwm : 1084
leftHipSideAddonMix : 1085
rightHipTarget : 1086
rightHipCurrent : 1087
rightHipPwm : 1088
rightHipAddonMix : 1089
leftHipTarget : 1090
leftHipCurrent : 1091
leftHipPwm : 1092
leftHipAddonMix : 1093
rightKneeTarget : 1094
rightKneeCurrent : 1095
rightKneePwm : 1096
rightKneeAddonMix : 1097
leftKneeTarget : 1098
leftKneeCurrent : 1099
leftKneePwm : 1100
leftKneeAddonMix : 1101
rightFootFrontTarget : 1102
rightFootFrontCurrent : 1103
rightFootFrontPwm : 1104
rightFootFrontAddonMix : 1105
leftFootFrontTarget : 1106
leftFootFrontCurrent : 1107
leftFootFrontPwm : 1108
leftFootFrontAddonMix : 1109
rightFootSideTarget : 1110
rightFootSideCurrent : 1111
rightFootSidePwm : 1112
rightFootSideAddonMix : 1113
leftFootSideTarget : 1114
leftFootSideCurrent : 1115
leftFootSidePwm : 1116
leftFootSideAddonMix : 1117
rightHandTarget : 1118
rightHandCurrent : 1119
rightHandPwm : 1120
rightHandAddonMix : 1121
leftHandTarget : 1122
leftHandCurrent : 1123
leftHandPwm : 1124
leftHandAddonMix : 1125
headTiltTarget : 1130
headTiltCurrent : 1131
headTiltPwm : 1132
headTiltAddonMix : 1133
rightKneeBotTarget : 1134
rightKneeBotCurrent : 1135
rightKneeBotPwm : 1136
rightKneeBotAddonMix : 1137
leftKneeBotTarget : 1138
leftKneeBotCurrent : 1139
leftKneeBotPwm : 1140
leftKneeBotAddonMix : 1141
rightClawTarget : 1142
rightClawCurrent : 1143
rightClawPwm : 1144
rightClawAddonMix : 1145
leftClawTarget : 1146
leftClawCurrent : 1147
leftClawPwm : 1148
leftClawAddonMix : 1149
slowWalk : 2
stepLength F: 3
sideLength F: 4
rotation F: 5
selfMotionShiftCorrectionX F: 6
selfMotionShiftCorrectionY F: 7
selfFirstStepYield F: 8
selfCycleStepYield F: 9
selfSideStepRightYield F: 10
selfSideStepLeftYield F: 11
selfFirstLegIsRightLeg : 12
selfInitPoses : 13
selfExitFlag : 14
selfFallingFlag : 15
selfNeckPan : 16
rotationYieldRight F: 17
rotationYieldLeft F: 18
framestep : 19
xtr F: 20
ytr F: 21
ztr F: 22
xr F: 23
yr F: 24
zr F: 25
wr F: 26
xtl F: 27
ytl F: 28
ztl F: 29
xl F: 30
yl F: 31
zl F: 32
wl F: 33
e10 F: 34
d10 F: 35
amplitude F: 36
alpha01 F: 37
fr1 : 38
fr2 : 39
gaitHeight F: 40
stepHeight F: 41
correctedStepLenght F: 42
correctedStepLenghtHalf F: 43
correctedSideLenght F: 44
correctedSideLenghtHalf F: 45
ztr0 F: 46
ztl0 F: 47
stepZtr F: 48
stepZtl F: 49
stepYtr F: 50
stepYtl F: 51
stepType : 52
fps : 53
frames_per_cycle : 54
relaxFootR : 55
relaxFootL : 56
bodyTiltAtWalk F: 57
solyLandingSkew F: 58
segments_num : 59
segments[] : 60
segments_sum : 160
j : 161
i : 162
test1 F: 163
test2 F: 164
test3 F: 165
alpha6 F: 166
alpha7 F: 167
alpha9 F: 168
alpha10 F: 169
IkEncA5 F: 170
IkEncA6 F: 171
IkEncA7 F: 172
IkEncA8 F: 173
IkEncA9 F: 174
IkEncA10 F: 175
IkOutPresent F: 176
xtl0 F: 177
xtr0 F: 178
dx0Typical F: 179
dy0Typical F: 180
correctedRotation F: 181
s F: 182
fase_offset F: 183
xtl_plan F: 184
xtr_plan F: 185
dx F: 186
dx0 F: 187
dx1 F: 188
dx2 F: 189
dx4 F: 190
dy F: 191
stepRotation F: 192
forwardDirection F: 193
leftRightFactor : 194
frontBackFactor : 195
